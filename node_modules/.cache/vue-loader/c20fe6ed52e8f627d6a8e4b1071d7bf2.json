{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Barchart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Barchart.vue","mtime":1591484511152},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNjYWxlTGluZWFyLCBzY2FsZUJhbmQgfSBmcm9tICJkMy1zY2FsZSI7CmltcG9ydCB7IG1heCwgbWluIH0gZnJvbSAiZDMtYXJyYXkiOwppbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICJkMy1zZWxlY3Rpb24iOwppbXBvcnQgeyB0cmFuc2l0aW9uIH0gZnJvbSAiZDMtdHJhbnNpdGlvbiI7CgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAiQmFyQ2hhcnQiLAoJcHJvcHM6IHsKCQl0aXRsZTogU3RyaW5nLAoJCXhLZXk6IFN0cmluZywKCQl5S2V5OiBTdHJpbmcsCgkJZGF0YTogQXJyYXkKCX0sCglkYXRhOiAoKSA9PiAoewoJCXN2Z1dpZHRoOiAwLAoJCXJlZHJhd1RvZ2dsZTogdHJ1ZQoJfSksCgltZXRob2RzOiB7CgkJQW5pbWF0ZUxvYWQoKSB7CgkJCXNlbGVjdEFsbCgicmVjdCIpCgkJCQkuZGF0YSh0aGlzLmRhdGEpCgkJCQkudHJhbnNpdGlvbigpCgkJCQkuZGVsYXkoKGQsIGkpID0+IHsKCQkJCQlyZXR1cm4gaSAqIDE1MDsKCQkJCX0pCgkJCQkuZHVyYXRpb24oMTAwMCkKCQkJCS5hdHRyKCJ5IiwgZCA9PiB7CgkJCQkJcmV0dXJuIHRoaXMueVNjYWxlKGRbdGhpcy55S2V5XSk7CgkJCQl9KQoJCQkJLmF0dHIoImhlaWdodCIsIGQgPT4gewoJCQkJCXJldHVybiB0aGlzLnN2Z0hlaWdodCAtIHRoaXMueVNjYWxlKGRbdGhpcy55S2V5XSk7CgkJCQl9KTsKCQl9LAoJCUFkZFJlc2l6ZUxpc3RlbmVyKCkgewoJCQkvLyByZWRyYXcgdGhlIGNoYXJ0IDMwMG1zIGFmdGVyIHRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZAoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gewoJCQkJdGhpcy4kZGF0YS5yZWRyYXdUb2dnbGUgPSBmYWxzZTsKCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCXRoaXMuJGRhdGEucmVkcmF3VG9nZ2xlID0gdHJ1ZTsKCQkJCQl0aGlzLiRkYXRhLnN2Z1dpZHRoID0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRhaW5lciIpLm9mZnNldFdpZHRoICogMC43NTsKCQkJCQl0aGlzLkFuaW1hdGVMb2FkKCk7CgkJCQl9LCAzMDApOwoJCQl9KTsKCQl9Cgl9LAoJY29tcHV0ZWQ6IHsKCQlkYXRhTWF4KCkgewoJCQlyZXR1cm4gbWF4KHRoaXMuZGF0YSwgZCA9PiB7CgkJCQlyZXR1cm4gZFt0aGlzLnlLZXldOwoJCQl9KTsKCQl9LAoJCWRhdGFNaW4oKSB7CgkJCXJldHVybiBtaW4odGhpcy5kYXRhLCBkID0+IHsKCQkJCXJldHVybiBkW3RoaXMueUtleV07CgkJCX0pOwoJCX0sCgkJeFNjYWxlKCkgewoJCQlyZXR1cm4gc2NhbGVCYW5kKCkKCQkJCS5yYW5nZVJvdW5kKFswLCB0aGlzLnN2Z1dpZHRoXSkKCQkJCS5wYWRkaW5nKDAuMSkKCQkJCS5kb21haW4oCgkJCQkJdGhpcy5kYXRhLm1hcChkID0+IHsKCQkJCQkJcmV0dXJuIGRbdGhpcy54S2V5XTsKCQkJCQl9KQoJCQkJKTsKCQl9LAoJCXlTY2FsZSgpIHsKCQkJcmV0dXJuIHNjYWxlTGluZWFyKCkKCQkJCS5yYW5nZVJvdW5kKFt0aGlzLnN2Z0hlaWdodCwgMF0pCgkJCQkuZG9tYWluKFt0aGlzLmRhdGFNaW4gPiAwID8gMCA6IHRoaXMuZGF0YU1pbiwgdGhpcy5kYXRhTWF4XSk7CgkJfSwKCQlzdmdIZWlnaHQoKSB7CgkJCXJldHVybiB0aGlzLnN2Z1dpZHRoIC8gMS42MTgwMzM5ODg3NTsgLy8gZ29sZGVuIHJhdGlvCgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5zdmdXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250YWluZXIiKS5vZmZzZXRXaWR0aCAqIDAuNzU7CgkJdGhpcy5BZGRSZXNpemVMaXN0ZW5lcigpOwoJCXRoaXMuQW5pbWF0ZUxvYWQoKTsKCX0KfTsK"},{"version":3,"sources":["Barchart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Barchart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div id=\"container\" class=\"svg-container\" align=\"center\">\n\t\t<h1>{{ title }}</h1>\n\t\t<svg v-if=\"redrawToggle === true\" :width=\"svgWidth\" :height=\"svgHeight\">\n\t\t\t<g>\n\t\t\t\t<rect\n\t\t\t\t\tv-for=\"item in data\"\n\t\t\t\t\tclass=\"bar-positive\"\n\t\t\t\t\t:key=\"item[xKey]\"\n\t\t\t\t\t:x=\"xScale(item[xKey])\"\n\t\t\t\t\t:y=\"yScale(0)\"\n\t\t\t\t\t:width=\"xScale.bandwidth()\"\n\t\t\t\t\t:height=\"0\"\n\t\t\t\t></rect>\n\t\t\t</g>\n\t\t</svg>\n\t</div>\n</template>\n\n<script>\nimport { scaleLinear, scaleBand } from \"d3-scale\";\nimport { max, min } from \"d3-array\";\nimport { selectAll } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\n\nexport default {\n\tname: \"BarChart\",\n\tprops: {\n\t\ttitle: String,\n\t\txKey: String,\n\t\tyKey: String,\n\t\tdata: Array\n\t},\n\tdata: () => ({\n\t\tsvgWidth: 0,\n\t\tredrawToggle: true\n\t}),\n\tmethods: {\n\t\tAnimateLoad() {\n\t\t\tselectAll(\"rect\")\n\t\t\t\t.data(this.data)\n\t\t\t\t.transition()\n\t\t\t\t.delay((d, i) => {\n\t\t\t\t\treturn i * 150;\n\t\t\t\t})\n\t\t\t\t.duration(1000)\n\t\t\t\t.attr(\"y\", d => {\n\t\t\t\t\treturn this.yScale(d[this.yKey]);\n\t\t\t\t})\n\t\t\t\t.attr(\"height\", d => {\n\t\t\t\t\treturn this.svgHeight - this.yScale(d[this.yKey]);\n\t\t\t\t});\n\t\t},\n\t\tAddResizeListener() {\n\t\t\t// redraw the chart 300ms after the window has been resized\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tthis.$data.redrawToggle = false;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.$data.redrawToggle = true;\n\t\t\t\t\tthis.$data.svgWidth =\n\t\t\t\t\t\tdocument.getElementById(\"container\").offsetWidth * 0.75;\n\t\t\t\t\tthis.AnimateLoad();\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tdataMax() {\n\t\t\treturn max(this.data, d => {\n\t\t\t\treturn d[this.yKey];\n\t\t\t});\n\t\t},\n\t\tdataMin() {\n\t\t\treturn min(this.data, d => {\n\t\t\t\treturn d[this.yKey];\n\t\t\t});\n\t\t},\n\t\txScale() {\n\t\t\treturn scaleBand()\n\t\t\t\t.rangeRound([0, this.svgWidth])\n\t\t\t\t.padding(0.1)\n\t\t\t\t.domain(\n\t\t\t\t\tthis.data.map(d => {\n\t\t\t\t\t\treturn d[this.xKey];\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t},\n\t\tyScale() {\n\t\t\treturn scaleLinear()\n\t\t\t\t.rangeRound([this.svgHeight, 0])\n\t\t\t\t.domain([this.dataMin > 0 ? 0 : this.dataMin, this.dataMax]);\n\t\t},\n\t\tsvgHeight() {\n\t\t\treturn this.svgWidth / 1.61803398875; // golden ratio\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.svgWidth = document.getElementById(\"container\").offsetWidth * 0.75;\n\t\tthis.AddResizeListener();\n\t\tthis.AnimateLoad();\n\t}\n};\n</script>\n\n<style scoped>\n\t.bar-positive {\n\t\tfill: steelblue;\n\t\ttransition: r 0.2s ease-in-out;\n\t}\n\n\t.bar-positive:hover {\n\t\tfill: brown;\n\t}\n\n\t.svg-container {\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tpadding-bottom: 1%;\n\t\tvertical-align: top;\n\t\toverflow: hidden;\n\t}\n</style>\n"]}]}