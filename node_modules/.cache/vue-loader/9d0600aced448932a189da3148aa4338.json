{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Content_Forms/FormTemp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Content_Forms/FormTemp.vue","mtime":1594925857859},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYWRkRXZlbnRzIGZyb20gJ0AvY29tcG9uZW50cy9Db250ZW50X0Zvcm1zL0V2ZW50c0Zvcm0udnVlJwppbXBvcnQgYWRkVGVybXMgZnJvbSAnQC9jb21wb25lbnRzL0NvbnRlbnRfRm9ybXMvVGVybWlub2xvZ3lGb3JtLnZ1ZScKaW1wb3J0IHsgZGIgfSBmcm9tICdAL21haW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHRvcGljU2VsZWN0ZWQ6IFN0cmluZwogIH0sCiAgY29tcG9uZW50czp7CiAgICBhZGRFdmVudHMsCiAgICBhZGRUZXJtcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgdG9waWM6ICcnLAogICAgICBtb3VudGVkSXRlbXM6IFtdLAogICAgICBjb2xsZWN0aW9uTmFtZTogJycsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CgogICAgLy8gbG9jYXRpbmdDb2xsZWN0aW9uIFt3YXRlY2hlZF06IHNldHRpbmcgVG9waWMgd2hpY2ggZXZlbnRzIGFyZSBhZGRlZCB0byAmIHJlZnJlc2ggcmlnaHQgRXZlbnRzCiAgICBhc3luYyBsb2NhdGluZ0NvbGxlY3Rpb24gKCkgewogICAgICAvLyBmaW5kaW5nIGNvbGxlY3Rpb24gbmFtZSBmcm9tICpTRUFSQ0gKICAgICAgaWYgKHRoaXMudG9waWNTZWxlY3RlZCAhPSAnJyl7CiAgICAgICAgICAgIHZhciBpZCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJypTRUFSQ0gnKS53aGVyZSgnbmFtZScsICc9PScsIHRoaXMudG9waWNTZWxlY3RlZCkuZ2V0KCkudGhlbihxdWVyeVNuYXBzaG90ID0+IHsKICAgICAgICAgICAgdmFyIHgKICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgeCA9IGRvYy5kYXRhKCkuY29sbGVjdGlvbk5hbWUKICAgICAgICAgICAgICB2YXIgeSA9IGRvYy5kYXRhKCkubG9jYXRpb25JblRJTUVfUEVSSU9EUy5kb2MKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIHgKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25OYW1lID0gaWQKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29sbGVjdGlvbk5hbWUpCiAgICAgICAgICB0aGlzLm1vdW50ZWRDb250ZW50KCkKICAgICAgfQogICAgICAKICAgIH0sCgogICAgLy8gbW91bnRlZEV2ZW50czogYWRkaW5nIGV2ZW50cyB0byB0aGUgcmlnaHQKICAgIGFzeW5jIG1vdW50ZWRDb250ZW50ICgpIHsKCiAgICAgIGNvbnN0IHRvZG9zUmVmID0gYXdhaXQgZGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb25OYW1lKS5kb2ModGhpcy5pZCk7CiAgICAgIAogICAgICAKICAgICAgdGhpcy5tb3VudGVkSXRlbXMgPSBhd2FpdCB0b2Rvc1JlZi5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIGlmICh0aGlzLmlkID09ICJFdmVudHMiKQogICAgICAgICAgICByZXR1cm4gZG9jLmRhdGEoKS5ldmVudHMKICAgICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIGRvYy5kYXRhKCkuaXRlbXMKICAgICAgfS5iaW5kKHRoaXMpKQogICAgICBjb25zb2xlLmxvZyh0aGlzLm1vdW50ZWRJdGVtcykKCiAgICB9LAoKICAgIHVwZGF0ZShlKXsKICAgICAgY29uc29sZS5sb2coZSkKICAgIH0sCgoKICAgIC8vIHN1Ym1pdERhdGE6IGNhbGxlZCB3aGVuIHN1Ym1pdCBidXR0b24gaXMgcHJlc3NlZAogICAgYXN5bmMgc3VibWl0RGF0YSAoKSB7CiAgICAgIC8vIGdyYWJiaW5nIGV2ZW50cyBjdXJyZW50bHkgd2l0aGluIHRoZSB0b3BpYwoKICAgICAgY29uc3QgdXBkYXRlRXZlbnRzID0gYXdhaXQgZGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb25OYW1lKS5kb2ModGhpcy5jcmVhdGVkRXZlbnQuY29udGVudFR5cGUpCiAgICAgIC8vIGZpbGwgaW4gZXZlbnROYW1lCiAgICAgIHRoaXMudXJsID0gdGhpcy5jcmVhdGVkRXZlbnQuZXZlbnRUaXRsZS5yZXBsYWNlKC9ccysvZywgJycpLnRvTG93ZXJDYXNlKCkKICAgICAgdGhpcy5jcmVhdGVkRXZlbnQuZXZlbnROYW1lID0gdGhpcy51cmwKICAgICAgLy8gVVBEQVRJTkcgZXZlbnRzIG9mIHRvcGljCiAgICAgIHRoaXMuZXZlbnRzLnB1c2godGhpcy5jcmVhdGVkRXZlbnQpCiAgICAgIHZhciB4ID0gdGhpcy5vcmdhbml6YXRpb24odGhpcy5ldmVudHMpCiAgICAgIHVwZGF0ZUV2ZW50cy51cGRhdGUoewogICAgICAgIGV2ZW50czogeAogICAgICB9KQogICAgICB0aGlzLm1vdW50ZWRFdmVudHMoKQogICAgICB0aGlzLnVwZGF0ZVNlYXJjaCgpCiAgICAgIHRoaXMucmVzZXQoKQogICAgfSwKCgogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIHRvcGljU2VsZWN0ZWQ6IGxpc3RlbnMgd2hlbiBUb3BpYyBpcyBjaGFuZ2UsIHVwZGF0ZXMgVG9waWMgYW5kIG1vdW50ZWQgZXZlbnRzCiAgICB0b3BpY1NlbGVjdGVkOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHRoaXMubG9jYXRpbmdDb2xsZWN0aW9uKCkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5sb2NhdGluZ0NvbGxlY3Rpb24oKQogIH0KfQo="},{"version":3,"sources":["FormTemp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormTemp.vue","sourceRoot":"src/components/Content_Forms","sourcesContent":["** Form: Adding Events **\n\n{ Shows Topic adding event to }\n\n(form for adding events) | (events current in Topic)\n\n****************************************************\n\n<template>\n<div id=\"app\" >\n\t<!-- Events Header -->\n\t<v-row>\n\t\t<v-col class=\"pb-0\" cols=\"8\">\n\t\t\t<h2 style=\"display: inline\">Adding {{id}} to: </h2>\n\t\t\t<h2 style=\"display: inline\" class=\"font-weight-light\"><u><i>{{topicSelected}}</i></u></h2>\n\t\t\t<p>** need to put validations on the form</p>\n\t\t</v-col>\n\t</v-row>\n  <v-row v-if=\"topicSelected != ''\">\n    <v-col>\n          <add-events v-if=\"this.id == 'Events'\" :topicSelected=\"topicSelected\" :items=\"mountedItems\" @sendData=\"update\"></add-events>\n          <add-terms v-if=\"this.id == 'Terminology'\" :topicSelected=\"topicSelected\"></add-terms>\n    </v-col>\n  </v-row>\n\n\n</div>\n</template>\n\n<script>\n\nimport addEvents from '@/components/Content_Forms/EventsForm.vue'\nimport addTerms from '@/components/Content_Forms/TerminologyForm.vue'\nimport { db } from '@/main'\n\nexport default {\n  props: {\n    topicSelected: String\n  },\n  components:{\n    addEvents,\n    addTerms\n  },\n  data: function () {\n    return {\n      id: this.$route.params.id,\n      topic: '',\n      mountedItems: [],\n      collectionName: '',\n    }\n  },\n  methods: {\n\n    // locatingCollection [wateched]: setting Topic which events are added to & refresh right Events\n    async locatingCollection () {\n      // finding collection name from *SEARCH\n      if (this.topicSelected != ''){\n            var id = await db.collection('*SEARCH').where('name', '==', this.topicSelected).get().then(querySnapshot => {\n            var x\n            querySnapshot.forEach(doc => {\n              x = doc.data().collectionName\n              var y = doc.data().locationInTIME_PERIODS.doc\n            })\n            return x\n          })\n          this.collectionName = id\n          console.log(this.collectionName)\n          this.mountedContent()\n      }\n      \n    },\n\n    // mountedEvents: adding events to the right\n    async mountedContent () {\n\n      const todosRef = await db.collection(this.collectionName).doc(this.id);\n      \n      \n      this.mountedItems = await todosRef.get().then(function (doc) {\n          if (this.id == \"Events\")\n            return doc.data().events\n          else\n            return doc.data().items\n      }.bind(this))\n      console.log(this.mountedItems)\n\n    },\n\n    update(e){\n      console.log(e)\n    },\n\n\n    // submitData: called when submit button is pressed\n    async submitData () {\n      // grabbing events currently within the topic\n\n      const updateEvents = await db.collection(this.collectionName).doc(this.createdEvent.contentType)\n      // fill in eventName\n      this.url = this.createdEvent.eventTitle.replace(/\\s+/g, '').toLowerCase()\n      this.createdEvent.eventName = this.url\n      // UPDATING events of topic\n      this.events.push(this.createdEvent)\n      var x = this.organization(this.events)\n      updateEvents.update({\n        events: x\n      })\n      this.mountedEvents()\n      this.updateSearch()\n      this.reset()\n    },\n\n\n  },\n  watch: {\n    // topicSelected: listens when Topic is change, updates Topic and mounted events\n    topicSelected: function (val) {\n      this.locatingCollection()\n    }\n  },\n  mounted () {\n    this.locatingCollection()\n  }\n}\n</script>\n\n<style type=\"text/css\" scoped>\n\t.box{\n\t\ttext-align: left;\n\t\tbackground-color: #FCE4EC;\n\t}\n</style>\n"]}]}