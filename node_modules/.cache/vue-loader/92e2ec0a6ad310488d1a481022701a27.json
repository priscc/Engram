{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Timeline.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/components/Timeline.vue","mtime":1590902648226},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNjYWxlTGluZWFyLCBzY2FsZUJhbmQgfSBmcm9tICJkMy1zY2FsZSI7CmltcG9ydCB7IG1heCwgbWluIH0gZnJvbSAiZDMtYXJyYXkiOwppbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICJkMy1zZWxlY3Rpb24iOwppbXBvcnQgeyB0cmFuc2l0aW9uIH0gZnJvbSAiZDMtdHJhbnNpdGlvbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhckNoYXJ0IiwKICBwcm9wczogewogICAgdGl0bGU6IFN0cmluZywKICAgIHhLZXk6IFN0cmluZywKICAgIHlLZXk6IFN0cmluZywKICAgIGRhdGE6IEFycmF5CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zdmdXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250YWluZXIiKS5vZmZzZXRXaWR0aCAqIDAuNzU7CiAgICB0aGlzLkFkZFJlc2l6ZUxpc3RlbmVyKCk7CiAgICB0aGlzLkFuaW1hdGVMb2FkKCk7CiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgc3ZnV2lkdGg6IDAsCiAgICByZWRyYXdUb2dnbGU6IHRydWUKICB9KSwKICBtZXRob2RzOiB7CiAgICBBbmltYXRlTG9hZCgpIHsKICAgICAgc2VsZWN0QWxsKCJyZWN0IikKICAgICAgICAuZGF0YSh0aGlzLmRhdGEpCiAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgIC5kZWxheSgoZCwgaSkgPT4gewogICAgICAgICAgcmV0dXJuIGkgKiAxNTA7CiAgICAgICAgfSkKICAgICAgICAuZHVyYXRpb24oMTAwMCkKICAgICAgICAuYXR0cigieSIsIGQgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMueVNjYWxlKGRbdGhpcy55S2V5XSk7CiAgICAgICAgfSkKICAgICAgICAuYXR0cigiaGVpZ2h0IiwgZCA9PiB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zdmdIZWlnaHQgLSB0aGlzLnlTY2FsZShkW3RoaXMueUtleV0pOwogICAgICAgIH0pOwogICAgfSwKICAgIEFkZFJlc2l6ZUxpc3RlbmVyKCkgewogICAgICAvLyByZWRyYXcgdGhlIGNoYXJ0IDMwMG1zIGFmdGVyIHRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZAogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gewogICAgICAgIHRoaXMuJGRhdGEucmVkcmF3VG9nZ2xlID0gZmFsc2U7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRkYXRhLnJlZHJhd1RvZ2dsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLiRkYXRhLnN2Z1dpZHRoID0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRhaW5lciIpLm9mZnNldFdpZHRoICogMC43NTsKICAgICAgICAgIHRoaXMuQW5pbWF0ZUxvYWQoKTsKICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRhTWF4KCkgewogICAgICByZXR1cm4gbWF4KHRoaXMuZGF0YSwgZCA9PiB7CiAgICAgICAgcmV0dXJuIGRbdGhpcy55S2V5XTsKICAgICAgfSk7CiAgICB9LAogICAgZGF0YU1pbigpIHsKICAgICAgcmV0dXJuIG1pbih0aGlzLmRhdGEsIGQgPT4gewogICAgICAgIHJldHVybiBkW3RoaXMueUtleV07CiAgICAgIH0pOwogICAgfSwKICAgIHhTY2FsZSgpIHsKICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpCiAgICAgICAgLnJhbmdlUm91bmQoWzAsIHRoaXMuc3ZnV2lkdGhdKQogICAgICAgIC5wYWRkaW5nKDAuMSkKICAgICAgICAuZG9tYWluKAogICAgICAgICAgdGhpcy5kYXRhLm1hcChkID0+IHsKICAgICAgICAgICAgcmV0dXJuIGRbdGhpcy54S2V5XTsKICAgICAgICAgIH0pCiAgICAgICAgKTsKICAgIH0sCiAgICB5U2NhbGUoKSB7CiAgICAgIHJldHVybiBzY2FsZUxpbmVhcigpCiAgICAgICAgLnJhbmdlUm91bmQoW3RoaXMuc3ZnSGVpZ2h0LCAwXSkKICAgICAgICAuZG9tYWluKFt0aGlzLmRhdGFNaW4gPiAwID8gMCA6IHRoaXMuZGF0YU1pbiwgdGhpcy5kYXRhTWF4XSk7CiAgICB9LAogICAgc3ZnSGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5zdmdXaWR0aCAvIDEuNjE4MDMzOTg4NzU7IC8vIGdvbGRlbiByYXRpbwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Timeline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Timeline.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"container\" class=\"svg-container\" align=\"center\">\n    <h1>{{ title }}</h1>\n    <svg v-if=\"redrawToggle === true\" :width=\"svgWidth\" :height=\"svgHeight\">\n      <g>\n        <rect\n          v-for=\"item in data\"\n          class=\"bar-positive\"\n          :key=\"item[xKey]\"\n          :x=\"xScale(item[xKey])\"\n          :y=\"yScale(0)\"\n          :width=\"xScale.bandwidth()\"\n          :height=\"0\"\n        ></rect>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport { scaleLinear, scaleBand } from \"d3-scale\";\nimport { max, min } from \"d3-array\";\nimport { selectAll } from \"d3-selection\";\nimport { transition } from \"d3-transition\";\n\nexport default {\n  name: \"BarChart\",\n  props: {\n    title: String,\n    xKey: String,\n    yKey: String,\n    data: Array\n  },\n  mounted() {\n    this.svgWidth = document.getElementById(\"container\").offsetWidth * 0.75;\n    this.AddResizeListener();\n    this.AnimateLoad();\n  },\n  data: () => ({\n    svgWidth: 0,\n    redrawToggle: true\n  }),\n  methods: {\n    AnimateLoad() {\n      selectAll(\"rect\")\n        .data(this.data)\n        .transition()\n        .delay((d, i) => {\n          return i * 150;\n        })\n        .duration(1000)\n        .attr(\"y\", d => {\n          return this.yScale(d[this.yKey]);\n        })\n        .attr(\"height\", d => {\n          return this.svgHeight - this.yScale(d[this.yKey]);\n        });\n    },\n    AddResizeListener() {\n      // redraw the chart 300ms after the window has been resized\n      window.addEventListener(\"resize\", () => {\n        this.$data.redrawToggle = false;\n        setTimeout(() => {\n          this.$data.redrawToggle = true;\n          this.$data.svgWidth =\n            document.getElementById(\"container\").offsetWidth * 0.75;\n          this.AnimateLoad();\n        }, 300);\n      });\n    }\n  },\n  computed: {\n    dataMax() {\n      return max(this.data, d => {\n        return d[this.yKey];\n      });\n    },\n    dataMin() {\n      return min(this.data, d => {\n        return d[this.yKey];\n      });\n    },\n    xScale() {\n      return scaleBand()\n        .rangeRound([0, this.svgWidth])\n        .padding(0.1)\n        .domain(\n          this.data.map(d => {\n            return d[this.xKey];\n          })\n        );\n    },\n    yScale() {\n      return scaleLinear()\n        .rangeRound([this.svgHeight, 0])\n        .domain([this.dataMin > 0 ? 0 : this.dataMin, this.dataMax]);\n    },\n    svgHeight() {\n      return this.svgWidth / 1.61803398875; // golden ratio\n    }\n  }\n};\n</script>\n\n<style scoped>\n.bar-positive {\n  fill: steelblue;\n  transition: r 0.2s ease-in-out;\n}\n\n.bar-positive:hover {\n  fill: brown;\n}\n\n.svg-container {\n  display: inline-block;\n  position: relative;\n  width: 100%;\n  padding-bottom: 1%;\n  vertical-align: top;\n  overflow: hidden;\n}\n</style>\n"]}]}