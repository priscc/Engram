{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline2.js","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline2.js","mtime":1591735544894},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCi8vIGluc3BpcmVkIGFuZCBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ppYWh1YW5nL2QzLXRpbWVsaW5lCmQzLnRpbWVsaW5lID0gZnVuY3Rpb24gKCkgewogIHZhciBESVNQTEFZX1RZUEVTID0gWyJjaXJjbGUiLCAicmVjdCJdOwoKICB2YXIgbW91c2VvdmVyID0gZnVuY3Rpb24gbW91c2VvdmVyKCkge30sCiAgICAgIG1vdXNlb3V0ID0gZnVuY3Rpb24gbW91c2VvdXQoKSB7fSwKICAgICAgb3JpZW50ID0gImJvdHRvbSIsCiAgICAgIHdpZHRoID0gbnVsbCwKICAgICAgaGVpZ2h0ID0gbnVsbCwKICAgICAgcm93U2VwYXJhdG9yc0NvbG9yID0gbnVsbCwKICAgICAgYmFja2dyb3VuZENvbG9yID0gbnVsbCwKICAgICAgdGlja0Zvcm1hdCA9IHsKICAgIGZvcm1hdDogZDMudGltZS5mb3JtYXQoIiVZIiksCiAgICB0aWNrVGltZTogZDMudGltZS55ZWFycywKICAgIHRpY2tJbnRlcnZhbDogMSwKICAgIHRpY2tTaXplOiA2LAogICAgdGlja1ZhbHVlczogbnVsbAogIH0sCiAgICAgIGRpc3BsYXkgPSAicmVjdCIsCiAgICAgIGJlZ2lubmluZyA9IDAsCiAgICAgIGxhYmVsTWFyZ2luID0gMCwKICAgICAgZW5kaW5nID0gMCwKICAgICAgbWFyZ2luID0gewogICAgbGVmdDogMzAsCiAgICByaWdodDogMzAsCiAgICB0b3A6IDMwLAogICAgYm90dG9tOiAzMAogIH0sCiAgICAgIHN0YWNrZWQgPSBmYWxzZSwKICAgICAgdGltZUlzUmVsYXRpdmUgPSBmYWxzZSwKICAgICAgaXRlbUhlaWdodCA9IDIwLAogICAgICBpdGVtTWFyZ2luID0gNSwKICAgICAgc2hvd1RpbWVBeGlzID0gdHJ1ZSwKICAgICAgc2hvd0F4aXNUb3AgPSBmYWxzZSwKICAgICAgdGltZUF4aXNUaWNrID0gZmFsc2UsCiAgICAgIHNob3dBeGlzSGVhZGVyQmFja2dyb3VuZCA9IGZhbHNlLAogICAgICBzaG93QXhpc05hdiA9IGZhbHNlLAogICAgICBjaGFydERhdGEgPSB7fTsKCiAgdmFyIGFwcGVuZFRpbWVBeGlzID0gZnVuY3Rpb24gYXBwZW5kVGltZUF4aXMoZywgeEF4aXMsIHlQb3NpdGlvbikgewogICAgLy8gaWYoc2hvd0F4aXNIZWFkZXJCYWNrZ3JvdW5kKXsgYXBwZW5kQXhpc0hlYWRlckJhY2tncm91bmQoZywgMCwgMCk7IH0KICAgIC8vIGlmKHNob3dBeGlzTmF2KXsgYXBwZW5kVGltZUF4aXNOYXYoZykgfTsKICAgIHZhciBheGlzID0gZy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJheGlzIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgMCArICIsIiArIHlQb3NpdGlvbiArICIpIikuY2FsbCh4QXhpcyk7CiAgfTsKCiAgdmFyIGFwcGVuZFRpbWVBeGlzVGljayA9IGZ1bmN0aW9uIGFwcGVuZFRpbWVBeGlzVGljayhnLCB4QXhpcywgbWF4U3RhY2spIHsKICAgIGcuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAiYXhpcyIpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIDAgKyAiLCIgKyAobWFyZ2luLnRvcCArIChpdGVtSGVpZ2h0ICsgaXRlbU1hcmdpbikgKiBtYXhTdGFjaykgKyAiKSIpLmF0dHIodGltZUF4aXNUaWNrRm9ybWF0LnN0cm9rZSwgdGltZUF4aXNUaWNrRm9ybWF0LnNwYWNpbmcpLmNhbGwoeEF4aXMudGlja0Zvcm1hdCgiIikudGlja1NpemUoLShtYXJnaW4udG9wICsgKGl0ZW1IZWlnaHQgKyBpdGVtTWFyZ2luKSAqIChtYXhTdGFjayAtIDEpICsgMyksIDAsIDApKTsKICB9OwoKICBmdW5jdGlvbiB0aW1lbGluZShnUGFyZW50KSB7CiAgICB2YXIgZyA9IGdQYXJlbnQuYXBwZW5kKCJnIik7IC8vY29udGFpbnMgc3ZnIG9mIHRoZSB0aW1lbGluZQoKICAgIHZhciBnUGFyZW50U2l6ZSA9IGdQYXJlbnRbMF1bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vcmV0dXJucyBzaXplIG9mIHRoZSBzdmcgJiBwb3NpdGlvbgoKICAgIHZhciBnUGFyZW50SXRlbSA9IGQzLnNlbGVjdChnUGFyZW50WzBdWzBdKTsgLy9nZXRzIGFsbCB0aW1lbGluZSBzdmcgZGF0YQoKICAgIHZhciB5QXhpc01hcHBpbmcgPSB7fSwKICAgICAgICBtYXhTdGFjayA9IDEsCiAgICAgICAgbWluVGltZSA9IDAsCiAgICAgICAgbWF4VGltZSA9IDA7CiAgICBzZXRXaWR0aCgpOyAvL3NldHRpbmcgd2lkdGggb2YgdGltZWxpbmUKICAgIC8vY2hlY2sgIyBvZiBzdGFja3MgYW5kIGRyYXcgdGhlIGF4aXMgYmVmb3JlIHRoZSBncmFwaAoKICAgIGlmIChzdGFja2VkIHx8IGVuZGluZyA9PT0gMCB8fCBiZWdpbm5pbmcgPT09IDApIHsKICAgICAgZy5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgZC5mb3JFYWNoKGZ1bmN0aW9uIChkYXR1bSwgaW5kZXgpIHsKICAgICAgICAgIC8vZGF0dW0gPSBlYWNoIGRhdGEgZWxlbWVudAogICAgICAgICAgLy9pZiBzdGFja2VkID09IHRydWUgJiYgeUF4aXNNYXBwaW5nIG9iamVjdCBoYXMga2V5cywgZXhwYW5kIGNyZWF0ZSB5IG1hcHBpbmcKICAgICAgICAgIGlmIChzdGFja2VkICYmIE9iamVjdC5rZXlzKHlBeGlzTWFwcGluZykuaW5kZXhPZihpbmRleCkgPT0gLTEpIHsKICAgICAgICAgICAgeUF4aXNNYXBwaW5nW2luZGV4XSA9IG1heFN0YWNrOwogICAgICAgICAgICBtYXhTdGFjaysrOwogICAgICAgICAgfSAvL2ZpZ3VyZSBvdXQgYmVnaW5uaW5nIGFuZCBlbmRpbmcgdGltZXMgaWYgdGhleSBhcmUgdW5zcGVjaWZpZWQKCgogICAgICAgICAgZGF0dW0udGltZXMuZm9yRWFjaChmdW5jdGlvbiAodGltZSwgaSkgewogICAgICAgICAgICBpZiAoYmVnaW5uaW5nID09PSAwKSBpZiAodGltZS5zdGFydGluZ190aW1lIDwgbWluVGltZSB8fCBtaW5UaW1lID09PSAwICYmIHRpbWVJc1JlbGF0aXZlID09PSBmYWxzZSkgbWluVGltZSA9IHRpbWUuc3RhcnRpbmdfdGltZTsKICAgICAgICAgICAgaWYgKGVuZGluZyA9PT0gMCkgaWYgKHRpbWUuZW5kaW5nX3RpbWUgPiBtYXhUaW1lKSBtYXhUaW1lID0gdGltZS5lbmRpbmdfdGltZTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIGlmIChlbmRpbmcgPT09IDApIHsKICAgICAgICBlbmRpbmcgPSBtYXhUaW1lOwogICAgICB9CgogICAgICBpZiAoYmVnaW5uaW5nID09PSAwKSB7CiAgICAgICAgYmVnaW5uaW5nID0gbWluVGltZTsKICAgICAgfQogICAgfQoKICAgIHZhciBzY2FsZUZhY3RvciA9IDEgLyAoZW5kaW5nIC0gYmVnaW5uaW5nKSAqICh3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0KTsgLy91c2VkIGZvciBwb3NpdGlvbmluZwogICAgLy9kcmF3IHRoZSBheGlzCgogICAgdmFyIHhTY2FsZSA9IGQzLnRpbWUuc2NhbGUoKS5kb21haW4oW2JlZ2lubmluZywgZW5kaW5nXSkucmFuZ2UoW21hcmdpbi5sZWZ0LCB3aWR0aCAtIG1hcmdpbi5yaWdodF0pOwogICAgdmFyIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4U2NhbGUpLm9yaWVudChvcmllbnQpLnRpY2tGb3JtYXQodGlja0Zvcm1hdC5mb3JtYXQpLnRpY2tTaXplKHRpY2tGb3JtYXQudGlja1NpemUpOyAvL2NvbnRyb2xzIHRoZSAjIG9mIHRpY2tzIHRvIHRoZSB0aW1lbGluZQoKICAgIGlmICh0aWNrRm9ybWF0LnRpY2tWYWx1ZXMgIT0gbnVsbCkgewogICAgICB4QXhpcy50aWNrVmFsdWVzKHRpY2tGb3JtYXQudGlja1ZhbHVlcyk7CiAgICB9IGVsc2UgewogICAgICB4QXhpcy50aWNrcyh0aWNrRm9ybWF0Lm51bVRpY2tzIHx8IHRpY2tGb3JtYXQudGlja1RpbWUsIHRpY2tGb3JtYXQudGlja0ludGVydmFsKTsKICAgIH0KCiAgICBjb25zb2xlLmxvZyhnKTsgLy9kcmF3aW5nIHRoZSB0aW1lbGluZQoKICAgIGcuZWFjaChmdW5jdGlvbiAoZCwgaSkgewogICAgICBjaGFydERhdGEgPSBkOwogICAgICBkLmZvckVhY2goZnVuY3Rpb24gKGRhdHVtLCBpbmRleCkgewogICAgICAgIC8vZGF0dW0gPSBlYWNoIGRhdGEgZWxlbWVudAogICAgICAgIHZhciBkYXRhID0gZGF0dW0udGltZXM7IC8vaXNzdWUgd2FybmluZyBhYm91dCB1c2luZyBpZCBwZXIgZGF0YSBzZXQuIElkcyBzaG91bGQgYmUgaW5kaXZpZHVhbCB0byBkYXRhIGVsZW1lbnRzCgogICAgICAgIGlmICh0eXBlb2YgZGF0dW0uaWQgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIGNvbnNvbGUud2FybigiZDNUaW1lbGluZSBXYXJuaW5nOiBJZHMgcGVyIGRhdGFzZXQgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBhICdjbGFzcycga2V5LiBJZHMgYXJlIG5vdyBwZXIgZGF0YSBlbGVtZW50LiIpOwogICAgICAgIH0gLy9jaXJjbGVzCgoKICAgICAgICBnLnNlbGVjdEFsbCgic3ZnIikuZGF0YShkYXRhKS5lbnRlcigpLmFwcGVuZChmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkMy5ucy5wcmVmaXguc3ZnLCAiZGlzcGxheSIgaW4gZCA/IGQuZGlzcGxheSA6IGRpc3BsYXkpOwogICAgICAgIH0pIC8vZm9yIGVhY2ggc3RhY2tlZCByZWN0CiAgICAgICAgLmF0dHIoIngiLCBnZXRYUG9zKS5hdHRyKCJ5IiwgZ2V0U3RhY2tQb3NpdGlvbikuYXR0cigid2lkdGgiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgcmV0dXJuIChkLmVuZGluZ190aW1lIC0gZC5zdGFydGluZ190aW1lKSAqIHNjYWxlRmFjdG9yOwogICAgICAgIH0pIC8vY2lyY2xlcwogICAgICAgIC5hdHRyKCJjeSIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICByZXR1cm4gZ2V0U3RhY2tQb3NpdGlvbihkLCBpKSArIGl0ZW1IZWlnaHQgLyAyOwogICAgICAgIH0pLmF0dHIoImN4IiwgZ2V0WFBvcykuYXR0cigiciIsIGl0ZW1IZWlnaHQgLyAxLjgpLmF0dHIoImhlaWdodCIsIGl0ZW1IZWlnaHQpLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgLy8qKiogY2lyY2xlIENPTE9SCiAgICAgICAgICByZXR1cm4gZC5jb2xvcjsKICAgICAgICB9KS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGQpOwogICAgICAgICAgbW91c2VvdmVyKGQsIGksIGRhdHVtKTsKICAgICAgICB9KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgbW91c2VvdXQoZCwgaSwgZGF0dW0pOwogICAgICAgIH0pLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIHJldHVybiBkYXR1bS5jbGFzcyA/ICJ0aW1lbGluZVNlcmllc18iICsgZGF0dW0uY2xhc3MgOiAidGltZWxpbmVTZXJpZXNfIiArIGluZGV4OwogICAgICAgIH0pLmF0dHIoImlkIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIGlmIChkYXR1bS5pZCAmJiAhZC5pZCkgewogICAgICAgICAgICByZXR1cm4gJ3RpbWVsaW5lSXRlbV8nICsgZGF0dW0uaWQ7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGQuaWQgPyBkLmlkIDogInRpbWVsaW5lSXRlbV8iICsgaW5kZXggKyAiXyIgKyBpOwogICAgICAgIH0pOyAvLyBjaXJjbGUgdGV4dAoKICAgICAgICBnLnNlbGVjdEFsbCgic3ZnIikuZGF0YShkYXRhKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCBnZXRYVGV4dFBvcykuYXR0cigieSIsIGdldFN0YWNrVGV4dFBvc2l0aW9uKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gZC5sYWJlbDsKICAgICAgICB9KS5zdHlsZSgiZmlsbCIsICJ3aGl0ZSIpOwoKICAgICAgICBmdW5jdGlvbiBnZXRTdGFja1Bvc2l0aW9uKGQsIGkpIHsKICAgICAgICAgIGlmIChzdGFja2VkKSB7CiAgICAgICAgICAgIHJldHVybiBtYXJnaW4udG9wICsgKGl0ZW1IZWlnaHQgKyBpdGVtTWFyZ2luKSAqIHlBeGlzTWFwcGluZ1tpbmRleF07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG1hcmdpbi50b3A7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTdGFja1RleHRQb3NpdGlvbihkLCBpKSB7CiAgICAgICAgICBpZiAoc3RhY2tlZCkgewogICAgICAgICAgICByZXR1cm4gbWFyZ2luLnRvcCArIChpdGVtSGVpZ2h0ICsgaXRlbU1hcmdpbikgKiB5QXhpc01hcHBpbmdbaW5kZXhdICsgaXRlbUhlaWdodCAqIDAuNzU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG1hcmdpbi50b3AgKyBpdGVtSGVpZ2h0ICogMC43NTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgYmVsb3dMYXN0SXRlbSA9IG1hcmdpbi50b3AgKyAoaXRlbUhlaWdodCArIGl0ZW1NYXJnaW4pICogbWF4U3RhY2s7CiAgICB2YXIgYWJvdmVGaXJzdEl0ZW0gPSBtYXJnaW4udG9wOwogICAgdmFyIHRpbWVBeGlzWVBvc2l0aW9uID0gc2hvd0F4aXNUb3AgPyBhYm92ZUZpcnN0SXRlbSA6IGJlbG93TGFzdEl0ZW07IC8vaWYgdGltZSBsaW5lIHdhbnRzIHRvIGRpc3BsYXkgYXhpcyAoYWx3YXlzIHRydWUpCgogICAgaWYgKHNob3dUaW1lQXhpcykgewogICAgICBhcHBlbmRUaW1lQXhpcyhnLCB4QXhpcywgdGltZUF4aXNZUG9zaXRpb24pOwogICAgfQoKICAgIGlmICh0aW1lQXhpc1RpY2spIHsvLyBhcHBlbmRUaW1lQXhpc1RpY2soZywgeEF4aXMsIG1heFN0YWNrKTsgCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WFBvcyhkLCBpKSB7CiAgICAgIHJldHVybiBtYXJnaW4ubGVmdCArIChkLnN0YXJ0aW5nX3RpbWUgLSBiZWdpbm5pbmcpICogc2NhbGVGYWN0b3I7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WFRleHRQb3MoZCwgaSkgewogICAgICByZXR1cm4gbWFyZ2luLmxlZnQgKyAoZC5zdGFydGluZ190aW1lIC0gYmVnaW5uaW5nKSAqIHNjYWxlRmFjdG9yIC0gNC41OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFdpZHRoKCkgewogICAgICBpZiAoIXdpZHRoICYmICFnUGFyZW50U2l6ZS53aWR0aCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB3aWR0aCA9IGdQYXJlbnRJdGVtLmF0dHIoIndpZHRoIik7CgogICAgICAgICAgaWYgKCF3aWR0aCkgewogICAgICAgICAgICB0aHJvdyAid2lkdGggb2YgdGhlIHRpbWVsaW5lIGlzIG5vdCBzZXQuIEFzIG9mIEZpcmVmb3ggMjcsIHRpbWVsaW5lKCkud2l0aCh4KSBuZWVkcyB0byBiZSBleHBsaWNpdGx5IHNldCBpbiBvcmRlciB0byByZW5kZXIiOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoISh3aWR0aCAmJiBnUGFyZW50U2l6ZS53aWR0aCkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgd2lkdGggPSBnUGFyZW50SXRlbS5hdHRyKCJ3aWR0aCIpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0gLy8gaWYgYm90aCBhcmUgc2V0LCBkbyBub3RoaW5nCgogICAgfQogIH0gLy8gU0VUVElOR1MsIHdoZW4gY2FsbGVkIHRoZXkgY2hhbmdlIHRoZSBmaWVsZCB2YXJpYWJsZXMgYWJvdmUKCgogIHRpbWVsaW5lLm1hcmdpbiA9IGZ1bmN0aW9uIChwKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBtYXJnaW47CiAgICBtYXJnaW4gPSBwOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07CgogIHRpbWVsaW5lLm9yaWVudCA9IGZ1bmN0aW9uIChvcmllbnRhdGlvbikgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gb3JpZW50OwogICAgb3JpZW50ID0gb3JpZW50YXRpb247CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuaXRlbUhlaWdodCA9IGZ1bmN0aW9uIChoKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBpdGVtSGVpZ2h0OwogICAgaXRlbUhlaWdodCA9IGg7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuaXRlbU1hcmdpbiA9IGZ1bmN0aW9uIChoKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBpdGVtTWFyZ2luOwogICAgaXRlbU1hcmdpbiA9IGg7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuc2hvd1RpbWVBeGlzVGljayA9IGZ1bmN0aW9uICgpIHsKICAgIHRpbWVBeGlzVGljayA9ICF0aW1lQXhpc1RpY2s7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuaGVpZ2h0ID0gZnVuY3Rpb24gKGgpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGhlaWdodDsKICAgIGhlaWdodCA9IGg7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUud2lkdGggPSBmdW5jdGlvbiAodykgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gd2lkdGg7CiAgICB3aWR0aCA9IHc7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuZGlzcGxheSA9IGZ1bmN0aW9uIChkaXNwbGF5VHlwZSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoIHx8IERJU1BMQVlfVFlQRVMuaW5kZXhPZihkaXNwbGF5VHlwZSkgPT0gLTEpIHJldHVybiBkaXNwbGF5OwogICAgZGlzcGxheSA9IGRpc3BsYXlUeXBlOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07CgogIHRpbWVsaW5lLnRpY2tGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7CiAgICBjb25zb2xlLmxvZyhmb3JtYXQpOwogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGlja0Zvcm1hdDsKICAgIHRpY2tGb3JtYXQgPSBmb3JtYXQ7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUubW91c2VvdmVyID0gZnVuY3Rpb24gKG1vdXNlb3ZlckZ1bmMpIHsKICAgIGNvbnNvbGUubG9nKG1vdXNlb3ZlckZ1bmMpOwogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gbW91c2VvdmVyOwogICAgbW91c2VvdmVyID0gbW91c2VvdmVyRnVuYzsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5tb3VzZW91dCA9IGZ1bmN0aW9uIChtb3VzZW91dEZ1bmMpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1vdXNlb3V0OwogICAgbW91c2VvdXQgPSBtb3VzZW91dEZ1bmM7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuc3RhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICBzdGFja2VkID0gIXN0YWNrZWQ7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgcmV0dXJuIHRpbWVsaW5lOwp9Ow=="},{"version":3,"sources":["/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline2.js"],"names":["d3","timeline","DISPLAY_TYPES","mouseover","mouseout","orient","width","height","rowSeparatorsColor","backgroundColor","tickFormat","format","time","tickTime","years","tickInterval","tickSize","tickValues","display","beginning","labelMargin","ending","margin","left","right","top","bottom","stacked","timeIsRelative","itemHeight","itemMargin","showTimeAxis","showAxisTop","timeAxisTick","showAxisHeaderBackground","showAxisNav","chartData","appendTimeAxis","g","xAxis","yPosition","axis","append","attr","call","appendTimeAxisTick","maxStack","timeAxisTickFormat","stroke","spacing","gParent","gParentSize","getBoundingClientRect","gParentItem","select","yAxisMapping","minTime","maxTime","setWidth","each","d","i","forEach","datum","index","Object","keys","indexOf","times","starting_time","ending_time","scaleFactor","xScale","scale","domain","range","svg","ticks","numTicks","console","log","data","id","warn","selectAll","enter","document","createElementNS","ns","prefix","getXPos","getStackPosition","color","on","class","getXTextPos","getStackTextPosition","text","label","style","belowLastItem","aboveFirstItem","timeAxisYPosition","err","p","arguments","length","orientation","h","showTimeAxisTick","w","displayType","mouseoverFunc","mouseoutFunc","stack"],"mappings":"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","sourcesContent":["// inspired and adapted from https://github.com/jiahuang/d3-timeline\n\nd3.timeline = function() {\n\tvar DISPLAY_TYPES = [\"circle\", \"rect\"];\n\n\tvar mouseover = function () {},\n        mouseout = function () {},\n\t\torient = \"bottom\",\n\t\twidth = null,\n\t\theight = null,\n\t\trowSeparatorsColor = null,\n\t\tbackgroundColor = null,\n\t\ttickFormat = { format: d3.time.format(\"%Y\"),\n\t\t\ttickTime: d3.time.years,\n\t\t\ttickInterval: 1,\n\t\t\ttickSize: 6,\n\t\t\ttickValues: null\n\t\t},\n\t\tdisplay = \"rect\",\n\t\tbeginning = 0,\n\t\tlabelMargin = 0,\n\t\tending = 0,\n\t\tmargin = {left: 30, right:30, top: 30, bottom:30},\n\t\tstacked = false,\n\t\ttimeIsRelative = false,\n\t\titemHeight = 20,\n\t\titemMargin = 5,\n\t\tshowTimeAxis = true,\n\t\tshowAxisTop = false,\n\t\ttimeAxisTick = false,\n\t\tshowAxisHeaderBackground = false,\n\t\tshowAxisNav = false,\n\t\tchartData = {};\n\n\n\tvar appendTimeAxis = function(g, xAxis, yPosition) {\n\t\t// if(showAxisHeaderBackground){ appendAxisHeaderBackground(g, 0, 0); }\n\t\t// if(showAxisNav){ appendTimeAxisNav(g) };\n\t\tvar axis = g.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + 0 + \",\" + yPosition + \")\")\n\t\t\t.call(xAxis);\n\t};\n\n\n\tvar appendTimeAxisTick = function(g, xAxis, maxStack) {\n\t\tg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + 0 + \",\" + (margin.top + (itemHeight + itemMargin) * maxStack) + \")\")\n\t\t\t.attr(timeAxisTickFormat.stroke, timeAxisTickFormat.spacing)\n\t\t\t.call(xAxis.tickFormat(\"\").tickSize(-(margin.top + (itemHeight + itemMargin) * (maxStack - 1) + 3), 0, 0));\n\t};\n\n\n\tfunction timeline (gParent) {\n\t\tvar g = gParent.append(\"g\"); //contains svg of the timeline\n\t\tvar gParentSize = gParent[0][0].getBoundingClientRect(); //returns size of the svg & position\n\t\tvar gParentItem = d3.select(gParent[0][0]); //gets all timeline svg data\n\t\tvar yAxisMapping = {},\n\t\t\t\tmaxStack = 1,\n\t\t\t\tminTime = 0,\n\t\t\t\tmaxTime = 0;\n\n\t\tsetWidth(); //setting width of timeline\n\n\t\t//check # of stacks and draw the axis before the graph\n\t\tif (stacked || ending === 0 || beginning === 0) {\n\t\t\tg.each(function (d, i) {\n\t\t\t\td.forEach(function (datum, index) { //datum = each data element\n\t\t\t\t\t//if stacked == true && yAxisMapping object has keys, expand create y mapping\n\t\t\t\t\tif (stacked && Object.keys(yAxisMapping).indexOf(index) == -1) {\n\t\t\t\t\t\tyAxisMapping[index] = maxStack;\n\t\t\t\t\t\tmaxStack++;\n\t\t\t\t\t}\n\t\t\t\t\t//figure out beginning and ending times if they are unspecified\n\t\t\t\t\tdatum.times.forEach(function (time, i) {\n\t\t\t\t\t\tif(beginning === 0)\n\t\t\t\t\t\t\tif (time.starting_time < minTime || (minTime === 0 && timeIsRelative === false))\n\t\t\t\t\t\t\t\tminTime = time.starting_time;\n\t\t\t\t\t\tif(ending === 0)\n\t\t\t\t\t\t\tif (time.ending_time > maxTime)\n\t\t\t\t\t\t\t\tmaxTime = time.ending_time;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (ending === 0) {\n\t\t\t\tending = maxTime;\n\t\t\t}\n\t\t\tif (beginning === 0) {\n\t\t\t\tbeginning = minTime;\n\t\t\t}\n\t\t}\n\n\t\tvar scaleFactor = (1/(ending - beginning)) * (width - margin.left - margin.right); //used for positioning\n\n\n\t\t//draw the axis\n\t\tvar xScale = d3.time.scale()\n\t\t\t.domain([beginning, ending])\n\t\t\t.range([margin.left, width - margin.right]);\n\n\t\tvar xAxis = d3.svg.axis()\n\t\t\t.scale(xScale)\n\t\t\t.orient(orient)\n\t\t\t.tickFormat(tickFormat.format)\n\t\t\t.tickSize(tickFormat.tickSize)\n\t\t\t\n\n\t\t//controls the # of ticks to the timeline\n\t\tif (tickFormat.tickValues != null) {\n\t\t\txAxis.tickValues(tickFormat.tickValues);\n\t\t} else {\n\t\t\txAxis.ticks(tickFormat.numTicks || tickFormat.tickTime, tickFormat.tickInterval);\n\t\t}\n\n\t\tconsole.log(g)\n\n\t\t//drawing the timeline\n\t\tg.each(function(d, i) { \n\t\t\t\n\t\t\tchartData = d;\n\t\t\td.forEach( function(datum, index){ //datum = each data element\n\t\t\t\tvar data = datum.times;\n\t\t\t\t//issue warning about using id per data set. Ids should be individual to data elements\n\t\t\t\tif (typeof(datum.id) != \"undefined\") {\n\t\t\t\t\tconsole.warn(\"d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element.\");\n\t\t\t\t}\n\t\t\t\t//circles\n\t\t\t\tg.selectAll(\"svg\").data(data).enter()\n\t\t\t\t\t.append(function(d, i) {\n\t\t\t\t\t\t\treturn document.createElementNS(d3.ns.prefix.svg, \"display\" in d? d.display:display);\n\t\t\t\t\t})\n\t\t\t\t\t//for each stacked rect\n\t\t\t\t\t.attr(\"x\", getXPos)\n\t\t\t\t\t.attr(\"y\", getStackPosition)\n\t\t\t\t\t.attr(\"width\", function (d, i) {\n\t\t\t\t\t\treturn (d.ending_time - d.starting_time) * scaleFactor;\n\t\t\t\t\t})\n\t\t\t\t\t//circles\n\t\t\t\t\t.attr(\"cy\", function(d, i) {\n\t\t\t\t\t\t\treturn getStackPosition(d, i) + itemHeight/2 ;\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"cx\", getXPos)\n\t\t\t\t\t.attr(\"r\", itemHeight / 1.8)\n\t\t\t\t\t.attr(\"height\", itemHeight)\n\t\t\t\t\t.attr(\"fill\", function(d, i) { //*** circle COLOR\n\t\t\t\t\t\t\treturn d.color ;\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseover\", function (d, i) {\n\t\t\t\t\t\tconsole.log(d)\n\t\t\t\t\t\tmouseover(d, i, datum);\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout\", function (d, i) {\n\t\t\t\t\t\tmouseout(d, i, datum);\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"class\", function (d, i) {\n\t\t\t\t\t\treturn datum.class ? \"timelineSeries_\"+datum.class : \"timelineSeries_\"+index;\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"id\", function(d, i) {\n\t\t\t\t\t\tif (datum.id && !d.id) {\n\t\t\t\t\t\t\treturn 'timelineItem_' + datum.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn d.id ? d.id : \"timelineItem_\"+index+\"_\"+i;\n\t\t\t\t\t})\n\t\t\t\t;\n\n\t\t\t\t// circle text\n\t\t\t\tg.selectAll(\"svg\").data(data).enter()\n\t\t\t\t\t.append(\"text\")\n\t\t\t\t\t.attr(\"x\", getXTextPos)\n\t\t\t\t\t.attr(\"y\", getStackTextPosition)\n\t\t\t\t\t.text(function(d) {\n\t\t\t\t\t\treturn d.label;\n\t\t\t\t\t})\n\t\t\t\t\t.style(\"fill\", \"white\");\n\n\t\t\t\tfunction getStackPosition(d, i) {\n\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\treturn margin.top + (itemHeight + itemMargin) * yAxisMapping[index];\n\t\t\t\t\t}\n\t\t\t\t\treturn margin.top;\n\t\t\t\t}\n\t\t\t\tfunction getStackTextPosition(d, i) {\n\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\treturn margin.top + (itemHeight + itemMargin) * yAxisMapping[index] + itemHeight * 0.75;\n\t\t\t\t\t}\n\t\t\t\t\treturn margin.top + itemHeight * 0.75;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar belowLastItem = (margin.top + (itemHeight + itemMargin) * maxStack);\n\t\tvar aboveFirstItem = margin.top;\n\t\tvar timeAxisYPosition = showAxisTop ? aboveFirstItem : belowLastItem;\n\n\t\t//if time line wants to display axis (always true)\n\t\tif (showTimeAxis) { \n\t\t\tappendTimeAxis(g, xAxis, timeAxisYPosition); \n\t\t}\n\t\tif (timeAxisTick) { \n\t\t\t// appendTimeAxisTick(g, xAxis, maxStack); \n\t\t}\n\n\t\tfunction getXPos(d, i) {\n\t\t\treturn margin.left + (d.starting_time - beginning) * scaleFactor;\n\t\t}\n\n\t\tfunction getXTextPos(d, i) {\n\t\t\treturn margin.left + (d.starting_time - beginning) * scaleFactor - 4.5;\n\t\t}\n\n\n\t\tfunction setWidth() {\n\t\t\tif (!width && !gParentSize.width) {\n\t\t\t\ttry {\n\t\t\t\t\twidth = gParentItem.attr(\"width\");\n\t\t\t\t\tif (!width) {\n\t\t\t\t\t\tthrow \"width of the timeline is not set. As of Firefox 27, timeline().with(x) needs to be explicitly set in order to render\";\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log( err );\n\t\t\t\t}\n\t\t\t} else if (!(width && gParentSize.width)) {\n\t\t\t\ttry {\n\t\t\t\t\twidth = gParentItem.attr(\"width\");\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log( err );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// if both are set, do nothing\n\t\t}\n\n\t}\n\n\n\t// SETTINGS, when called they change the field variables above\n\ttimeline.margin = function (p) {\n\t\tif (!arguments.length) return margin;\n\t\tmargin = p;\n\t\treturn timeline;\n\t};\n\n\ttimeline.orient = function (orientation) {\n\t\tif (!arguments.length) return orient;\n\t\torient = orientation;\n\t\treturn timeline;\n\t};\n\n\ttimeline.itemHeight = function (h) {\n\t\tif (!arguments.length) return itemHeight;\n\t\titemHeight = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.itemMargin = function (h) {\n\t\tif (!arguments.length) return itemMargin;\n\t\titemMargin = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.showTimeAxisTick = function () {\n\t\ttimeAxisTick = !timeAxisTick;\n\t\treturn timeline;\n\t};\n\n\ttimeline.height = function (h) {\n\t\tif (!arguments.length) return height;\n\t\theight = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.width = function (w) {\n\t\tif (!arguments.length) return width;\n\t\twidth = w;\n\t\treturn timeline;\n\t};\n\n\ttimeline.display = function (displayType) {\n\t\tif (!arguments.length || (DISPLAY_TYPES.indexOf(displayType) == -1)) return display;\n\t\tdisplay = displayType;\n\t\treturn timeline;\n\t};\n\n\ttimeline.tickFormat = function (format) {\n\t\tconsole.log(format)\n\t\tif (!arguments.length) return tickFormat;\n\t\ttickFormat = format;\n\t\treturn timeline;\n\t};\n\n\ttimeline.mouseover = function (mouseoverFunc) {\n\t\tconsole.log(mouseoverFunc)\n\t\tif (!arguments.length) return mouseover;\n\t\tmouseover = mouseoverFunc;\n\t\treturn timeline;\n\t};\n\n\ttimeline.mouseout = function (mouseoutFunc) {\n\t\tif (!arguments.length) return mouseout;\n\t\tmouseout = mouseoutFunc;\n\t\treturn timeline;\n\t};\n\n\ttimeline.stack = function () {\n\t\tstacked = !stacked;\n\t\treturn timeline;\n\t};\n\n\treturn timeline;\n};"]}]}