{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/thread-loader/dist/cjs.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js","mtime":1592610561439},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCi8vIGluc3BpcmVkIGFuZCBhZGFwdGVkIGZyb206IAovLyBodHRwczovL2dpdGh1Yi5jb20vamlhaHVhbmcvZDMtdGltZWxpbmUgKHdvcmtzIG1vcmUgd2l0aCBzdGFja3MpIAovLyBodHRwOi8vYmwub2Nrcy5vcmcvcmVuZ2VsLWRlLzU2MDM0NjQgKHdvcmtzIHdpdGggQkMsIGRyYWdnaW4gYW5kIHpvb21pbmcpCi8vKiogRnV0dXJlOgovLyBvbmUgdGhpbmcgdGhpcyBjb2RlIGRvZXNuJ3QgdGFrZSBpbnRvIGFjY291bnQgZm9yIGlzIGlmIHRoZXJlIGFyZSBzdGFydCBkYXRlcyB3aXRoIHRoZSBzYW1lIGRhdGUKLy8gU1RFUFM6Ci8vIDEpIGFsbCBnbG9iYWwgdmFyaWFibGVzIGFyZSByZWdpc3RlcmVkIHdpdGggc2V0dGluZyBmdW5jdGlvbnMKLy8gMWEpIHNvbWUgdmFyaWFibGVzIGFyZSBzZXQgaW4gdGltZWxpbmUoKQovLyAyKSBkYXRBKCkgLSBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCBieSBleHRlcm5hbCBmaWxlCi8vIDJhKSBjb3B5IGRhdGEgdG8gbmV3IGRpYwovLyAyYikgcGFyc2UgZGF0ZXMgJiBjbGVhbiB1cCBlbmQgZGF0ZXMKLy8gMmMpIGZpbmQgbWluIGFuZCBtYXggZGF0ZQovLyAqIG5vdGU6IGlmIHdhbnRlZCB0byBsYXRlciBhZGQgb3RoZXIgZnVuY3Rpb25zIChzdGFja2VkKCkpLCB3aGVuIHRoZXNlIGFyZSBjYWxsZWQgdGhleSB3aWxsIGJlIGRvbmUgYmVmb3JlIHRpbWVsaW5lKCkgaXMgY29tcGxldGVkCi8vIDMpIHRpbWVsaW5lKCkgLSBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCBieSBleHRlcm5hbCBmaWxlIC0gd2lsbCBiZSByZWFjaGVkIGxhc3QKLy8gM2EpIHN2ZyBkaW1lbnNpb25zIGFyZSBzZXQKLy8gM2IpIHN2ZyBsYXlvdXQgY3JlYXRlZCwgPGRpdiAjdGltZWxpbmU+IDxnPjwvZz4gPC9kaXY+Ci8vIDNjKSBEcmF3Q2lyY2xlcygpCi8vIDNkKSBnIGFkZGVkLCA8ZGl2ICN0aW1lbGluZT4gPGc+IDxjaXJjbGU+PC9jaXJjbGU+IDxnPjwvZz4gPC9nPiA8L2Rpdj4KLy8gM2MpIHhBeGlzKCkKLy8gNCkgeEF4aXMoKSAtIHdpbGwgYWx3YXlzIGJlIGNhbGxlZCBieSB0aW1lbGluZSgpCi8vIDRhKSBjcmVhdGUgaW50ZXJ2YWxzLCB5ZWFyIHRpY2sgbWFya3MsIHRoZW4gYWRkcyBheGlzIHRvIHN2ZwpkMy50aW1lbGluZSA9IGZ1bmN0aW9uICgpIHsKICAvL0dsb2JhbCB2YXJpYWJsZXMKICB2YXIgZGF0YSA9IHt9LAogICAgICBXaWR0aCwKICAgICAgc3ZnLAogICAgICAvLyN0aW1lbGluZQogIGNoYXJ0LAogICAgICAvL3RpbWVsaW5lIGF4aXMKICBnLAogICAgICB0b29sLAogICAgICB3aGFsZTsgLy9jb250YWlucyB0aGUgZyB0aW1lbGluZSBheGlzIGFuZCBjaXJjbGVzCgogIHZhciBtYXJnaW4gPSB7CiAgICB0b3A6IDIwLAogICAgcmlnaHQ6IDIwLAogICAgYm90dG9tOiAyMCwKICAgIGxlZnQ6IDIwCiAgfTsgLy90aW1lbGluZTogc2V0cyBzdmcgZGltZW5zaW9uLCAoY3JlYXRlcyBzdmcgdGFnIGxheW91dCkgYWRkcyBjaXJjbGVzIHRoZW4gYWRkcyB0aW1lbGluZSBheGlzCgogIGZ1bmN0aW9uIHRpbWVsaW5lKGdQYXJlbnQpIHsKICAgIC8vY2FsIHN2ZyBlbGVtZW50cwogICAgdmFyIG91dGVyV2lkdGggPSA5NjAsCiAgICAgICAgb3V0ZXJIZWlnaHQgPSAxMDAsCiAgICAgICAgd2lkdGggPSBvdXRlcldpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsCiAgICAgICAgaGVpZ2h0ID0gb3V0ZXJIZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsKICAgIFdpZHRoID0gd2lkdGg7IC8vZ2V0cyBzdmcgb2YgPGRpdiAjdGltZWxpbmU+LCBzZXRzIGRpbWVuc2lvbnMKCiAgICB2YXIgZGl2ID0gZ1BhcmVudFswXVswXTsKICAgIHN2ZyA9IGQzLnNlbGVjdChkaXYpLmF0dHIoIndpZHRoIiwgIjEwMCUiKS5hdHRyKCJoZWlnaHQiLCBvdXRlckhlaWdodCk7IC8vIERlZmluZSB0aGUgZGl2IGZvciB0aGUgdG9vbHRpcAoKICAgIHRvb2wgPSBkMy5zZWxlY3QoIiN0aW1lbGluZTIiKS5hcHBlbmQoImRpdiIpLmF0dHIoIndpZHRoIiwgIjEwMCUiKS5hdHRyKCJoZWlnaHQiLCAiMTAwJSIpLmF0dHIoImNsYXNzIiwgInRvb2x0aXAiKS5zdHlsZSgib3BhY2l0eSIsIDApOyAvL2FwcGVuZCBnIGVsZW1lbnQgZm9yIGNpcmNsZXMgYW5kIHRpbWVsaW5lIGF4aXMgKGNoYXJ0KQoKICAgIGcgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKICAgIERyYXdDaXJjbGVzKCk7IC8vYXBwZW5kcyBuZXN0ZWQgZyBmb3IgdGltZWxpbmUgYXhpcwoKICAgIGNoYXJ0ID0gZy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJjaGFydCIpLmF0dHIoImNsaXAtcGF0aCIsICJ1cmwoI2NoYXJ0LWFyZWEpIik7CiAgICB4QXhpcygpOwogIH0KCiAgOyAvL2RhdEE6IGZvcm1hdHMgdGltZWxpbmUgZGF0ZSBkYXRhLCBwYXJzZSB0byBzdGFydCBhbmQgZW5kIGRhdGVzLCBmaW5kIG1pbiBhbmQgbWF4IGRhdGUKCiAgdGltZWxpbmUuZGF0QSA9IGZ1bmN0aW9uIChpdGVtcykgewogICAgLy9ncmFiYmluZyBkYXRhCiAgICBpdGVtcyA9IGl0ZW1zWzBdLnRpbWVzOwogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKSwKICAgICAgICB0cmFja3MgPSBbXTsgLy9jb3B5aW5nIGRhdGEgdG8gZGljdGlvbmFyeQoKICAgIGRhdGEuaXRlbXMgPSBpdGVtczsgLy8gZm9yRWFjaDogcGFyc2UgU3RyaW5nIGRhdGEgdG8gZGF0ZXMgJiBjbGVhbiBlbmQgZGF0ZXMKCiAgICBkYXRhLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaXRlbS5zdGFydCA9IGQzLnRpbWUuZm9ybWF0KCIlWSIpLnBhcnNlKGl0ZW0uc3RhcnQpOwoKICAgICAgaWYgKGl0ZW0uZW5kID09ICIiKSB7CiAgICAgICAgLy9pZiBoYXMgbm8gZW5kIHRpbWUKICAgICAgICBpdGVtLmVuZCA9IG5ldyBEYXRlKGl0ZW0uc3RhcnQuZ2V0VGltZSgpICsgaW5zdGFudE9mZnNldCk7CiAgICAgICAgaXRlbS5pbnN0YW50ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtLmVuZCA9IGQzLnRpbWUuZm9ybWF0KCIlWSIpLnBhcnNlKGl0ZW0uZW5kKTsKICAgICAgICBpdGVtLmluc3RhbnQgPSBmYWxzZTsKICAgICAgfSAvL3ByZXZlbnQgdGltZWxpbmUgZnJvbSBnb2luZyBpbnRvIHRoZSBmdXR1cmUKCgogICAgICBpZiAoaXRlbS5lbmQgPiB0b2RheSkgewogICAgICAgIGl0ZW0uZW5kID0gdG9kYXk7CiAgICAgIH0KCiAgICAgIDsKICAgIH0pOyAvL2ZpbmQgbWluIGFuZCBtYXggZGF0ZQoKICAgIGRhdGEubWluRGF0ZSA9IGQzLm1pbihkYXRhLml0ZW1zLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5zdGFydDsKICAgIH0pOwogICAgZGF0YS5tYXhEYXRlID0gZDMubWF4KGRhdGEuaXRlbXMsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmVuZDsKICAgIH0pOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07CgogIHZhciBEcmF3Q2lyY2xlcyA9IGZ1bmN0aW9uIERyYXdDaXJjbGVzKCkgewogICAgLy91c2VkIGZvciBwb3NpdGlvbmluZwogICAgdmFyIHNjYWxlRmFjdG9yID0gMSAvIChkYXRhLm1heERhdGUgLSBkYXRhLm1pbkRhdGUpICogKFdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQpOwogICAgdmFyIGl0ZW1IZWlnaHQgPSAyMCwKICAgICAgICBpdGVtTWFyZ2luID0gNTsKICAgIHZhciBDaXJjbGVkYXRhID0gZGF0YS5pdGVtczsgLy9pc3N1ZSB3YXJuaW5nIGFib3V0IHVzaW5nIGlkIHBlciBkYXRhIHNldC4gSWRzIHNob3VsZCBiZSBpbmRpdmlkdWFsIHRvIGRhdGEgZWxlbWVudHMKCiAgICBpZiAodHlwZW9mIGRhdGEuaWQgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgY29uc29sZS53YXJuKCJkM1RpbWVsaW5lIFdhcm5pbmc6IElkcyBwZXIgZGF0YXNldCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGEgJ2NsYXNzJyBrZXkuIElkcyBhcmUgbm93IHBlciBkYXRhIGVsZW1lbnQuIik7CiAgICB9IC8vY2lyY2xlcwoKCiAgICBnLnNlbGVjdEFsbCgic3ZnIikuZGF0YShDaXJjbGVkYXRhKS5lbnRlcigpLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiY2xhc3MiLCAiY2lyY2xlIikub24oIm1vdXNlb3ZlciIsIG1vdXNlb3Zlcikub24oIm1vdXNlb3V0IiwgbW91c2VvdXQpIC8vZm9yIGVhY2ggc3RhY2tlZCByZWN0IChjb250YWlucyB0cmFjayBvZiBjaXJjbGVzKQogICAgLmF0dHIoIngiLCBnZXRYUG9zKS5hdHRyKCJ5IiwgZ2V0WVBvcykuYXR0cigid2lkdGgiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICByZXR1cm4gKGQuZW5kIC0gZC5zdGFydCkgKiAuNTsKICAgIH0pIC8vY2lyY2xlcwogICAgLmF0dHIoImN5IiwgZ2V0WVBvcykuYXR0cigiY3giLCBnZXRYUG9zKS5hdHRyKCJyIiwgaXRlbUhlaWdodCAvIDEuOCkuYXR0cigiaGVpZ2h0IiwgaXRlbUhlaWdodCkuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIHJldHVybiBkLmNvbG9yOwogICAgfSk7IC8vY2lyY2xlIHRleHQKCiAgICBnLnNlbGVjdEFsbCgic3ZnIikuZGF0YShDaXJjbGVkYXRhKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLm9uKCJtb3VzZW92ZXIiLCBtb3VzZW92ZXIpLm9uKCJtb3VzZW91dCIsIG1vdXNlb3V0KS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgcmV0dXJuIGdldFhQb3MoZCwgaSwgdHJ1ZSk7CiAgICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgcmV0dXJuIGdldFlQb3MoZCwgaSwgdHJ1ZSk7CiAgICB9KS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmxhYmVsOwogICAgfSkuc3R5bGUoImZpbGwiLCAid2hpdGUiKTsgLy9mdW5jdGlvbnMgY2FsbGVkIGJ5IGF0dHJpYnV0ZXMKCiAgICBmdW5jdGlvbiBnZXRZUG9zKGQsIGksIHRleHQpIHsKICAgICAgdmFyIHJlc3VsdCA9IG1hcmdpbi50b3AgKyAoaXRlbUhlaWdodCArIGl0ZW1NYXJnaW4pICogc2NhbGVGYWN0b3I7CgogICAgICBpZiAodGV4dCkgewogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIDU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WFBvcyhkLCBpLCB0ZXh0KSB7CiAgICAgIHZhciByZXN1bHQgPSBtYXJnaW4ubGVmdCArIChkLnN0YXJ0IC0gZGF0YS5taW5EYXRlKSAqIHNjYWxlRmFjdG9yOwoKICAgICAgaWYgKHRleHQpIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgLSA0LjU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07IC8vIENyZWF0ZSBFdmVudCBIYW5kbGVycyBmb3IgbW91c2UKCgogIHZhciBtb3VzZW92ZXIgPSBmdW5jdGlvbiBtb3VzZW92ZXIoZCkgewogICAgdG9vbC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKS5zdHlsZSgib3BhY2l0eSIsIC45KS50ZXh0KGQubmFtZSkuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5wYWdlWCArICJweCIpLnN0eWxlKCJ0b3AiLCBkMy5ldmVudC5wYWdlWSAtIDEwNSArICJweCIpOwogICAgaG92ZXIgPSB0cnVlOwogICAgdGltZWxpbmUuaG92ZXIoaG92ZXIpOwogIH07CgogIHZhciBtb3VzZW91dCA9IGZ1bmN0aW9uIG1vdXNlb3V0KGQpIHsKICAgIHRvb2wudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwKS5zdHlsZSgib3BhY2l0eSIsIDApOwogIH07IC8veEF4aXM6IGNyZWF0ZSBheGlzIGFuZCBheGlzIHllYXIgaW50ZXJ2YWxzCgoKICB2YXIgeEF4aXMgPSBmdW5jdGlvbiB4QXhpcygpIHsKICAgIC8vY3JlYXRlIGF4aXMgaW50ZXJ2YWxzCiAgICB2YXIgeFNjYWxlID0gZDMudGltZS5zY2FsZSgpLmRvbWFpbihbZGF0YS5taW5EYXRlLCBkYXRhLm1heERhdGVdKS5yYW5nZShbMCwgV2lkdGhdKTsgLy9hZGQgdGlja3Mgd2l0aCB5ZWFyIGZvcm1hdAoKICAgIHZhciBheGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4U2NhbGUpLm9yaWVudCgiYm90dG9tIikudGlja1NpemUoNiwgMCkudGlja0Zvcm1hdChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5nZXRVVENGdWxsWWVhcigpOwogICAgfSk7IC8vY2FsbCBhbmQgZGlzbGF5IGF4aXMKCiAgICB2YXIgeEF4aXMgPSBjaGFydC5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJheGlzIikuY2FsbChheGlzKTsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OyAvLyBTZXR0aW5nIEZ1bmN0aW9ucwoKCiAgdGltZWxpbmUuZGF0YSA9IGZ1bmN0aW9uIChwKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBkYXRhOwogICAgZGF0YSA9IHA7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuV2lkdGggPSBmdW5jdGlvbiAocCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gV2lkdGg7CiAgICBXaWR0aCA9IHA7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuc3ZnID0gZnVuY3Rpb24gKHApIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHN2ZzsKICAgIHN2ZyA9IHA7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuaG92ZXIgPSBmdW5jdGlvbiAocCkgewogICAgLy8gY29uc29sZS5sb2cocCkKICAgIGlmIChwKSByZXR1cm4gdHJ1ZTsKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICB0aW1lbGluZS5tYXJnaW4gPSBmdW5jdGlvbiAocCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gbWFyZ2luOwogICAgbWFyZ2luID0gcDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICByZXR1cm4gdGltZWxpbmU7Cn07"},{"version":3,"sources":["/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js"],"names":["d3","timeline","data","Width","svg","chart","g","tool","whale","margin","top","right","bottom","left","gParent","outerWidth","outerHeight","width","height","div","select","attr","append","style","DrawCircles","xAxis","datA","items","times","today","Date","tracks","forEach","item","start","time","format","parse","end","getTime","instantOffset","instant","minDate","min","d","maxDate","max","scaleFactor","itemHeight","itemMargin","Circledata","id","console","warn","selectAll","enter","on","mouseover","mouseout","getXPos","getYPos","i","color","text","label","result","transition","duration","name","event","pageX","pageY","hover","xScale","scale","domain","range","axis","orient","tickSize","tickFormat","getUTCFullYear","call","p","arguments","length"],"mappings":"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","sourcesContent":["// inspired and adapted from: \n// https://github.com/jiahuang/d3-timeline (works more with stacks) \n// http://bl.ocks.org/rengel-de/5603464 (works with BC, draggin and zooming)\n\n//** Future:\n// one thing this code doesn't take into account for is if there are start dates with the same date\n\n// STEPS:\n\t// 1) all global variables are registered with setting functions\n\t// 1a) some variables are set in timeline()\n\n\t// 2) datA() - should always be called by external file\n\t// 2a) copy data to new dic\n\t// 2b) parse dates & clean up end dates\n\t// 2c) find min and max date\n\n\t// * note: if wanted to later add other functions (stacked()), when these are called they will be done before timeline() is completed\n\t// 3) timeline() - should always be called by external file - will be reached last\n\t// 3a) svg dimensions are set\n\t// 3b) svg layout created, <div #timeline> <g></g> </div>\n\t// 3c) DrawCircles()\n\t// 3d) g added, <div #timeline> <g> <circle></circle> <g></g> </g> </div>\n\t// 3c) xAxis()\n\n\t// 4) xAxis() - will always be called by timeline()\n\t// 4a) create intervals, year tick marks, then adds axis to svg\n\n\nd3.timeline = function() {\n\t//Global variables\n\tvar data = {}, \n\tWidth, \n\tsvg, //#timeline\n\tchart, //timeline axis\n\tg,\n\ttool,\n\twhale; //contains the g timeline axis and circles\n\tvar margin = {top: 20, right: 20, bottom: 20, left: 20};\n\n\n\t//timeline: sets svg dimension, (creates svg tag layout) adds circles then adds timeline axis\n\tfunction timeline (gParent) {\n\t\t\n\n\t\t//cal svg elements\n\t\tvar outerWidth = 960,\n\t\t\touterHeight = 100,\n\t\t\twidth = outerWidth - margin.left - margin.right,\n\t\t\theight = outerHeight - margin.top - margin.bottom;\n\t\tWidth = width;\n\t\t\n\t\t//gets svg of <div #timeline>, sets dimensions\n\t\tvar div = gParent[0][0] \n\t\tsvg = d3.select(div)\n\t\t\t.attr(\"width\", \"100%\")\n\t\t\t.attr(\"height\", outerHeight);\n\n\t\t// Define the div for the tooltip\n\t\ttool = d3.select(\"#timeline2\").append(\"div\")\t\n\t\t\t.attr(\"width\", \"100%\")\n\t\t\t.attr(\"height\", \"100%\")\n\t\t    .attr(\"class\", \"tooltip\")\t\t\t\t\n\t\t    .style(\"opacity\", 0);\n\n\t\t//append g element for circles and timeline axis (chart)\n\t\tg = svg.append(\"g\")\n\t\t\t.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top +  \")\");\n\t\tDrawCircles();\n\n\t\t//appends nested g for timeline axis\n\t\tchart = g.append(\"g\")\n\t\t\t.attr(\"class\", \"chart\")\n\t\t\t.attr(\"clip-path\", \"url(#chart-area)\" );\n\t\txAxis();\n\t};\n\t\n\t//datA: formats timeline date data, parse to start and end dates, find min and max date\n\ttimeline.datA = function(items) {\n\t\t//grabbing data\n\t\titems = items[0].times;\n\n\t\tvar today = new Date(),\n\t\t\ttracks = [];\n\t\t//copying data to dictionary\n\t\tdata.items = items;\n\t\t// forEach: parse String data to dates & clean end dates\n\t\tdata.items.forEach(function (item){\n\t\t\titem.start  = d3.time.format(\"%Y\").parse(item.start);\n\t\t\tif (item.end == \"\") { //if has no end time\n\t\t\t\titem.end = new Date(item.start.getTime() + instantOffset);\n\t\t\t\titem.instant = true;\n\t\t\t} else {\n\t\t\t\titem.end = d3.time.format(\"%Y\").parse(item.end);\n\t\t\t\titem.instant = false;\n\t\t\t}\n\t\t\t//prevent timeline from going into the future\n\t\t\tif (item.end > today) { item.end = today};\n\t\t});\n\t\t//find min and max date\n\t\tdata.minDate = d3.min(data.items, function (d) { return d.start; });\n\t\tdata.maxDate = d3.max(data.items, function (d) { return d.end; });\n\n\t\treturn timeline;\n\t};\n\n\tvar DrawCircles = function() {\n\t\t\n\t\t//used for positioning\n\t\tvar scaleFactor = (1/(data.maxDate - data.minDate)) * (Width - margin.left - margin.right);\n\t\tvar itemHeight = 20, itemMargin = 5\n\t\tvar Circledata = data.items;\n\t\t\n\t\t//issue warning about using id per data set. Ids should be individual to data elements\n\t\tif (typeof(data.id) != \"undefined\") {\n\t\t\tconsole.warn(\"d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element.\");\n\t\t}\n\n\t\t//circles\n\t\tg.selectAll(\"svg\").data(Circledata).enter()\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"class\", \"circle\")\n\t\t\t.on(\"mouseover\", mouseover)\n\t\t\t.on(\"mouseout\", mouseout)\n\t\t\t//for each stacked rect (contains track of circles)\n\t\t\t\t.attr(\"x\", getXPos)\n\t\t\t\t.attr(\"y\", getYPos)\n\t\t\t\t.attr(\"width\", function (d, i) { return (d.end - d.start) * .5; })\n\t\t\t//circles\n\t\t\t.attr(\"cy\", getYPos)\n\t\t\t.attr(\"cx\", getXPos)\n\t\t\t.attr(\"r\", itemHeight / 1.8)\n\t\t\t.attr(\"height\", itemHeight)\n\t\t\t.attr(\"fill\", function(d, i) { return d.color ; });\n\t\t//circle text\n\t\tg.selectAll(\"svg\").data(Circledata).enter()\n\t\t\t.append(\"text\")\n\t\t\t.on(\"mouseover\", mouseover)\n\t\t\t.on(\"mouseout\", mouseout)\n\t\t\t.attr(\"x\", function(d, i) { return getXPos(d, i, true); })\n\t\t\t.attr(\"y\", function(d, i) { return getYPos(d, i, true); })\n\t\t\t.text(function(d) { return d.label; })\n\t\t\t.style(\"fill\", \"white\");\n\n\t\t//functions called by attributes\n\t\tfunction getYPos(d, i, text) {\n\t\t\tvar result = margin.top + (itemHeight + itemMargin) * scaleFactor ;\n\t\t\tif (text) { result = result + 5 }\n\t\t\treturn result\n\t\t}\n\t\tfunction getXPos(d, i, text) {\n\t\t\tvar result = margin.left + (d.start - data.minDate) * scaleFactor;\n\t\t\tif (text) { result = result - 4.5 }\n\t\t\treturn result\n\t\t}\n\n\t\treturn timeline;\n\t};\n\n\t// Create Event Handlers for mouse\n\tvar mouseover = function(d) {\n\t\ttool.transition()\t\t\n\t\t\t.duration(200)\t\t\n\t\t\t.style(\"opacity\", .9)\n\t\t\t.text(d.name)\t\n\t\t\t.style(\"left\", (d3.event.pageX) + \"px\")\t\t\n\t\t\t.style(\"top\", (d3.event.pageY-105) + \"px\");\t\n\t\thover = true\n\n\t\ttimeline.hover(hover);\n\t}\n\n\tvar mouseout = function(d) {\n\t\ttool.transition()\t\t\n        .duration(50)\t\t\n        .style(\"opacity\", 0);\t\n\t}\n\n\n\t//xAxis: create axis and axis year intervals\n\tvar xAxis = function () {\n\t\t//create axis intervals\n\t\tvar xScale = d3.time.scale()\n\t\t\t.domain([data.minDate, data.maxDate])\n\t\t\t.range([0, Width]);\n\t\t//add ticks with year format\n\t\tvar axis = d3.svg.axis()\n\t\t\t.scale(xScale)\n\t\t\t.orient(\"bottom\")\n\t\t\t.tickSize(6, 0)\n\t\t\t.tickFormat(function (d) { return d.getUTCFullYear(); });\n\t\t//call and dislay axis\n\t\tvar xAxis = chart.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.call(axis);\n\t\treturn timeline;\n\t};\n\n\t// Setting Functions\n\ttimeline.data = function (p) {\n\t\tif (!arguments.length) return data;\n\t\tdata = p;\n\t\treturn timeline;\n\t};\n\ttimeline.Width = function (p) {\n\t\tif (!arguments.length) return Width;\n\t\tWidth = p;\n\t\treturn timeline;\n\t};\n\ttimeline.svg = function (p) {\n\t\tif (!arguments.length) return svg;\n\t\tsvg = p;\n\t\treturn timeline;\n\t};\n\ttimeline.hover = function (p) {\n\t\t// console.log(p)\n\t\tif (p) return true\n\t\treturn false;\n\t};\n\ttimeline.margin = function (p) {\n\t\tif (!arguments.length) return margin;\n\t\tmargin = p;\n\t\treturn timeline;\n\t};\n\n\treturn timeline;\n};"]}]}