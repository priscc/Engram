{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/thread-loader/dist/cjs.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js","mtime":1593993457295},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCi8vIGluc3BpcmVkIGFuZCBhZGFwdGVkIGZyb206Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qaWFodWFuZy9kMy10aW1lbGluZSAod29ya3MgbW9yZSB3aXRoIHN0YWNrcykKLy8gaHR0cDovL2JsLm9ja3Mub3JnL3JlbmdlbC1kZS81NjAzNDY0ICh3b3JrcyB3aXRoIEJDLCBkcmFnZ2luIGFuZCB6b29taW5nKQovLyogKiBGdXR1cmU6Ci8vIG9uZSB0aGluZyB0aGlzIGNvZGUgZG9lc24ndCB0YWtlIGludG8gYWNjb3VudCBmb3IgaXMgaWYgdGhlcmUgYXJlIHN0YXJ0IGRhdGVzIHdpdGggdGhlIHNhbWUgZGF0ZQovLyBTVEVQUzoKLy8gMSkgYWxsIGdsb2JhbCB2YXJpYWJsZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBzZXR0aW5nIGZ1bmN0aW9ucwovLyAxYSkgc29tZSB2YXJpYWJsZXMgYXJlIHNldCBpbiB0aW1lbGluZSgpCi8vIDIpIGRhdEEoKSAtIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIGJ5IGV4dGVybmFsIGZpbGUKLy8gMmEpIGNvcHkgZGF0YSB0byBuZXcgZGljCi8vIDJiKSBwYXJzZSBkYXRlcyAmIGNsZWFuIHVwIGVuZCBkYXRlcwovLyAyYykgZmluZCBtaW4gYW5kIG1heCBkYXRlCi8vICogbm90ZTogaWYgd2FudGVkIHRvIGxhdGVyIGFkZCBvdGhlciBmdW5jdGlvbnMgKHN0YWNrZWQoKSksIHdoZW4gdGhlc2UgYXJlIGNhbGxlZCB0aGV5IHdpbGwgYmUgZG9uZSBiZWZvcmUgdGltZWxpbmUoKSBpcyBjb21wbGV0ZWQKLy8gMykgdGltZWxpbmUoKSAtIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIGJ5IGV4dGVybmFsIGZpbGUgLSB3aWxsIGJlIHJlYWNoZWQgbGFzdAovLyAzYSkgc3ZnIGRpbWVuc2lvbnMgYXJlIHNldAovLyAzYikgc3ZnIGxheW91dCBjcmVhdGVkLCA8ZGl2ICN0aW1lbGluZT4gPGc+PC9nPiA8L2Rpdj4KLy8gM2MpIERyYXdDaXJjbGVzKCkKLy8gM2QpIGcgYWRkZWQsIDxkaXYgI3RpbWVsaW5lPiA8Zz4gPGNpcmNsZT48L2NpcmNsZT4gPGc+PC9nPiA8L2c+IDwvZGl2PgovLyAzYykgeEF4aXMoKQovLyA0KSB4QXhpcygpIC0gd2lsbCBhbHdheXMgYmUgY2FsbGVkIGJ5IHRpbWVsaW5lKCkKLy8gNGEpIGNyZWF0ZSBpbnRlcnZhbHMsIHllYXIgdGljayBtYXJrcywgdGhlbiBhZGRzIGF4aXMgdG8gc3ZnCmQzLnRpbWVsaW5lID0gZnVuY3Rpb24gKCkgewogIC8vIEdsb2JhbCB2YXJpYWJsZXMKICB2YXIgZGF0YSA9IHt9OwogIHZhciBXaWR0aDsKICB2YXIgc3ZnOyAvLyAjdGltZWxpbmUKCiAgdmFyIGNoYXJ0OyAvLyB0aW1lbGluZSBheGlzCgogIHZhciBnOwogIHZhciB0b29sOwogIHZhciB3aGFsZTsgLy8gY29udGFpbnMgdGhlIGcgdGltZWxpbmUgYXhpcyBhbmQgY2lyY2xlcwoKICB2YXIgbWFyZ2luID0gewogICAgdG9wOiAyMCwKICAgIHJpZ2h0OiAyMCwKICAgIGJvdHRvbTogMjAsCiAgICBsZWZ0OiAyMAogIH07IC8vIHRpbWVsaW5lOiBzZXRzIHN2ZyBkaW1lbnNpb24sIChjcmVhdGVzIHN2ZyB0YWcgbGF5b3V0KSBhZGRzIGNpcmNsZXMgdGhlbiBhZGRzIHRpbWVsaW5lIGF4aXMKCiAgZnVuY3Rpb24gdGltZWxpbmUoZ1BhcmVudCkgewogICAgLy8gY2FsIHN2ZyBlbGVtZW50cwogICAgdmFyIG91dGVyV2lkdGggPSA3MDA7CiAgICB2YXIgb3V0ZXJIZWlnaHQgPSAxMDA7CiAgICB2YXIgd2lkdGggPSBvdXRlcldpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7CiAgICB2YXIgaGVpZ2h0ID0gb3V0ZXJIZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsKICAgIFdpZHRoID0gd2lkdGg7IC8vIGdldHMgc3ZnIG9mIDxkaXYgI3RpbWVsaW5lPiwgc2V0cyBkaW1lbnNpb25zCgogICAgdmFyIGRpdiA9IGdQYXJlbnRbMF1bMF07CiAgICBzdmcgPSBkMy5zZWxlY3QoZGl2KS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0Jywgb3V0ZXJIZWlnaHQpOyAvLyBEZWZpbmUgdGhlIGRpdiBmb3IgdGhlIHRvb2x0aXAKCiAgICB0b29sID0gZDMuc2VsZWN0KCcjdGltZWxpbmUyJykuYXBwZW5kKCdkaXYnKS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0JywgJzEwMCUnKS5hdHRyKCdjbGFzcycsICd0b29sdGlwJykuc3R5bGUoJ29wYWNpdHknLCAwKTsgLy8gYXBwZW5kIGcgZWxlbWVudCBmb3IgY2lyY2xlcyBhbmQgdGltZWxpbmUgYXhpcyAoY2hhcnQpCgogICAgZyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIG1hcmdpbi50b3AgKyAnKScpOwogICAgRHJhd0NpcmNsZXMoKTsgLy8gYXBwZW5kcyBuZXN0ZWQgZyBmb3IgdGltZWxpbmUgYXhpcwoKICAgIGNoYXJ0ID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdjaGFydCcpLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NoYXJ0LWFyZWEpJyk7CiAgICB4QXhpcygpOwogIH0KCiAgOyAvLyBkYXRBOiBmb3JtYXRzIHRpbWVsaW5lIGRhdGUgZGF0YSwgcGFyc2UgdG8gc3RhcnQgYW5kIGVuZCBkYXRlcywgZmluZCBtaW4gYW5kIG1heCBkYXRlCgogIHRpbWVsaW5lLmRhdEEgPSBmdW5jdGlvbiAoaXRlbXMpIHsKICAgIC8vIGdyYWJiaW5nIGRhdGEKICAgIGl0ZW1zID0gaXRlbXNbMF0udGltZXM7CiAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgdmFyIHRyYWNrcyA9IFtdOyAvLyBjb3B5aW5nIGRhdGEgdG8gZGljdGlvbmFyeQoKICAgIGRhdGEuaXRlbXMgPSBpdGVtczsgLy8gZm9yRWFjaDogcGFyc2UgU3RyaW5nIGRhdGEgdG8gZGF0ZXMgJiBjbGVhbiBlbmQgZGF0ZXMKCiAgICBkYXRhLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaXRlbS5zdGFydCA9IGQzLnRpbWUuZm9ybWF0KCclWScpLnBhcnNlKGl0ZW0uc3RhcnQpOwoKICAgICAgaWYgKGl0ZW0uZW5kID09ICcnKSB7CiAgICAgICAgLy8gaWYgaGFzIG5vIGVuZCB0aW1lCiAgICAgICAgaXRlbS5lbmQgPSBuZXcgRGF0ZShpdGVtLnN0YXJ0LmdldFRpbWUoKSArIGluc3RhbnRPZmZzZXQpOwogICAgICAgIGl0ZW0uaW5zdGFudCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbS5lbmQgPSBkMy50aW1lLmZvcm1hdCgnJVknKS5wYXJzZShpdGVtLmVuZCk7CiAgICAgICAgaXRlbS5pbnN0YW50ID0gZmFsc2U7CiAgICAgIH0gLy8gcHJldmVudCB0aW1lbGluZSBmcm9tIGdvaW5nIGludG8gdGhlIGZ1dHVyZQoKCiAgICAgIGlmIChpdGVtLmVuZCA+IHRvZGF5KSB7CiAgICAgICAgaXRlbS5lbmQgPSB0b2RheTsKICAgICAgfQoKICAgICAgOwogICAgfSk7IC8vIGZpbmQgbWluIGFuZCBtYXggZGF0ZQoKICAgIGRhdGEubWluRGF0ZSA9IGQzLm1pbihkYXRhLml0ZW1zLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5zdGFydDsKICAgIH0pOwogICAgZGF0YS5tYXhEYXRlID0gZDMubWF4KGRhdGEuaXRlbXMsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmVuZDsKICAgIH0pOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07CgogIHZhciBEcmF3Q2lyY2xlcyA9IGZ1bmN0aW9uIERyYXdDaXJjbGVzKCkgewogICAgLy8gdXNlZCBmb3IgcG9zaXRpb25pbmcKICAgIHZhciBzY2FsZUZhY3RvciA9IDEgLyAoZGF0YS5tYXhEYXRlIC0gZGF0YS5taW5EYXRlKSAqIChXaWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0KTsKICAgIHZhciBpdGVtSGVpZ2h0ID0gMjA7CiAgICB2YXIgaXRlbU1hcmdpbiA9IDU7CiAgICB2YXIgQ2lyY2xlZGF0YSA9IGRhdGEuaXRlbXM7IC8vIGlzc3VlIHdhcm5pbmcgYWJvdXQgdXNpbmcgaWQgcGVyIGRhdGEgc2V0LiBJZHMgc2hvdWxkIGJlIGluZGl2aWR1YWwgdG8gZGF0YSBlbGVtZW50cwoKICAgIGlmICh0eXBlb2YgZGF0YS5pZCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgY29uc29sZS53YXJuKCJkM1RpbWVsaW5lIFdhcm5pbmc6IElkcyBwZXIgZGF0YXNldCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGEgJ2NsYXNzJyBrZXkuIElkcyBhcmUgbm93IHBlciBkYXRhIGVsZW1lbnQuIik7CiAgICB9IC8vIGNpcmNsZXMKCgogICAgZy5zZWxlY3RBbGwoJ3N2ZycpLmRhdGEoQ2lyY2xlZGF0YSkuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpLmF0dHIoJ2NsYXNzJywgJ2NpcmNsZScpLm9uKCdtb3VzZW92ZXInLCBtb3VzZW92ZXIpLm9uKCdtb3VzZW91dCcsIG1vdXNlb3V0KSAvLyBmb3IgZWFjaCBzdGFja2VkIHJlY3QgKGNvbnRhaW5zIHRyYWNrIG9mIGNpcmNsZXMpCiAgICAuYXR0cigneCcsIGdldFhQb3MpLmF0dHIoJ3knLCBnZXRZUG9zKS5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIHJldHVybiAoZC5lbmQgLSBkLnN0YXJ0KSAqIDAuNTsKICAgIH0pIC8vIGNpcmNsZXMKICAgIC5hdHRyKCdjeScsIGdldFlQb3MpLmF0dHIoJ2N4JywgZ2V0WFBvcykuYXR0cigncicsIGl0ZW1IZWlnaHQgLyAxLjgpLmF0dHIoJ2hlaWdodCcsIGl0ZW1IZWlnaHQpLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICByZXR1cm4gZC5jb2xvcjsKICAgIH0pOyAvLyBjaXJjbGUgdGV4dAoKICAgIGcuc2VsZWN0QWxsKCdzdmcnKS5kYXRhKENpcmNsZWRhdGEpLmVudGVyKCkuYXBwZW5kKCd0ZXh0Jykub24oJ21vdXNlb3ZlcicsIG1vdXNlb3Zlcikub24oJ21vdXNlb3V0JywgbW91c2VvdXQpLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICByZXR1cm4gZ2V0WFBvcyhkLCBpLCB0cnVlKTsKICAgIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICByZXR1cm4gZ2V0WVBvcyhkLCBpLCB0cnVlKTsKICAgIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQubGFiZWw7CiAgICB9KS5zdHlsZSgnZmlsbCcsICd3aGl0ZScpOyAvLyBmdW5jdGlvbnMgY2FsbGVkIGJ5IGF0dHJpYnV0ZXMKCiAgICBmdW5jdGlvbiBnZXRZUG9zKGQsIGksIHRleHQpIHsKICAgICAgdmFyIHJlc3VsdCA9IG1hcmdpbi50b3AgKyAoaXRlbUhlaWdodCArIGl0ZW1NYXJnaW4pICogc2NhbGVGYWN0b3I7CgogICAgICBpZiAodGV4dCkgewogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIDU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WFBvcyhkLCBpLCB0ZXh0KSB7CiAgICAgIHZhciByZXN1bHQgPSBtYXJnaW4ubGVmdCArIChkLnN0YXJ0IC0gZGF0YS5taW5EYXRlKSAqIHNjYWxlRmFjdG9yOwoKICAgICAgaWYgKHRleHQpIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgLSA0LjU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07IC8vIENyZWF0ZSBFdmVudCBIYW5kbGVycyBmb3IgbW91c2UKCgogIHZhciBtb3VzZW92ZXIgPSBmdW5jdGlvbiBtb3VzZW92ZXIoZCkgewogICAgdG9vbC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKS5zdHlsZSgnb3BhY2l0eScsIDAuOSkudGV4dChkLm5hbWUpLnN0eWxlKCdsZWZ0JywgZDMuZXZlbnQucGFnZVggKyAncHgnKS5zdHlsZSgndG9wJywgZDMuZXZlbnQucGFnZVkgLSAxMDUgKyAncHgnKTsKICAgIGhvdmVyID0gdHJ1ZTsKICAgIHRpbWVsaW5lLmhvdmVyKGhvdmVyKTsKICB9OwoKICB2YXIgbW91c2VvdXQgPSBmdW5jdGlvbiBtb3VzZW91dChkKSB7CiAgICB0b29sLnRyYW5zaXRpb24oKS5kdXJhdGlvbig1MCkuc3R5bGUoJ29wYWNpdHknLCAwKTsKICB9OyAvLyB4QXhpczogY3JlYXRlIGF4aXMgYW5kIGF4aXMgeWVhciBpbnRlcnZhbHMKCgogIHZhciB4QXhpcyA9IGZ1bmN0aW9uIHhBeGlzKCkgewogICAgLy8gY3JlYXRlIGF4aXMgaW50ZXJ2YWxzCiAgICB2YXIgeFNjYWxlID0gZDMudGltZS5zY2FsZSgpLmRvbWFpbihbZGF0YS5taW5EYXRlLCBkYXRhLm1heERhdGVdKS5yYW5nZShbMCwgV2lkdGhdKTsgLy8gYWRkIHRpY2tzIHdpdGggeWVhciBmb3JtYXQKCiAgICB2YXIgYXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeFNjYWxlKS5vcmllbnQoJ2JvdHRvbScpLnRpY2tTaXplKDYsIDApLnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuZ2V0VVRDRnVsbFllYXIoKTsKICAgIH0pOyAvLyBjYWxsIGFuZCBkaXNsYXkgYXhpcwoKICAgIHZhciB4QXhpcyA9IGNoYXJ0LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2F4aXMnKS5jYWxsKGF4aXMpOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07IC8vIFNldHRpbmcgRnVuY3Rpb25zCgoKICB0aW1lbGluZS5kYXRhID0gZnVuY3Rpb24gKHApIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGRhdGE7CiAgICBkYXRhID0gcDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5XaWR0aCA9IGZ1bmN0aW9uIChwKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBXaWR0aDsKICAgIFdpZHRoID0gcDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5zdmcgPSBmdW5jdGlvbiAocCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gc3ZnOwogICAgc3ZnID0gcDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5ob3ZlciA9IGZ1bmN0aW9uIChwKSB7CiAgICAvLyBjb25zb2xlLmxvZyhwKQogICAgaWYgKHApIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH07CgogIHRpbWVsaW5lLm1hcmdpbiA9IGZ1bmN0aW9uIChwKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBtYXJnaW47CiAgICBtYXJnaW4gPSBwOwogICAgcmV0dXJuIHRpbWVsaW5lOwogIH07CgogIHJldHVybiB0aW1lbGluZTsKfTs="},{"version":3,"sources":["/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline.js"],"names":["d3","timeline","data","Width","svg","chart","g","tool","whale","margin","top","right","bottom","left","gParent","outerWidth","outerHeight","width","height","div","select","attr","append","style","DrawCircles","xAxis","datA","items","times","today","Date","tracks","forEach","item","start","time","format","parse","end","getTime","instantOffset","instant","minDate","min","d","maxDate","max","scaleFactor","itemHeight","itemMargin","Circledata","id","console","warn","selectAll","enter","on","mouseover","mouseout","getXPos","getYPos","i","color","text","label","result","transition","duration","name","event","pageX","pageY","hover","xScale","scale","domain","range","axis","orient","tickSize","tickFormat","getUTCFullYear","call","p","arguments","length"],"mappings":"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","sourcesContent":["// inspired and adapted from:\n// https://github.com/jiahuang/d3-timeline (works more with stacks)\n// http://bl.ocks.org/rengel-de/5603464 (works with BC, draggin and zooming)\n\n//* * Future:\n// one thing this code doesn't take into account for is if there are start dates with the same date\n\n// STEPS:\n// 1) all global variables are registered with setting functions\n// 1a) some variables are set in timeline()\n\n// 2) datA() - should always be called by external file\n// 2a) copy data to new dic\n// 2b) parse dates & clean up end dates\n// 2c) find min and max date\n\n// * note: if wanted to later add other functions (stacked()), when these are called they will be done before timeline() is completed\n// 3) timeline() - should always be called by external file - will be reached last\n// 3a) svg dimensions are set\n// 3b) svg layout created, <div #timeline> <g></g> </div>\n// 3c) DrawCircles()\n// 3d) g added, <div #timeline> <g> <circle></circle> <g></g> </g> </div>\n// 3c) xAxis()\n\n// 4) xAxis() - will always be called by timeline()\n// 4a) create intervals, year tick marks, then adds axis to svg\n\nd3.timeline = function () {\n  // Global variables\n  var data = {}\n  var Width\n  var svg // #timeline\n  var chart // timeline axis\n  var g\n  var tool\n  var whale // contains the g timeline axis and circles\n  var margin = { top: 20, right: 20, bottom: 20, left: 20 }\n\n  // timeline: sets svg dimension, (creates svg tag layout) adds circles then adds timeline axis\n  function timeline (gParent) {\n    // cal svg elements\n    var outerWidth = 700\n    var outerHeight = 100\n    var width = outerWidth - margin.left - margin.right\n    var height = outerHeight - margin.top - margin.bottom\n    Width = width\n\n    // gets svg of <div #timeline>, sets dimensions\n    var div = gParent[0][0]\n    svg = d3.select(div)\n      .attr('width', '100%')\n      .attr('height', outerHeight)\n\n    // Define the div for the tooltip\n    tool = d3.select('#timeline2').append('div')\n      .attr('width', '100%')\n      .attr('height', '100%')\n\t\t    .attr('class', 'tooltip')\n\t\t    .style('opacity', 0)\n\n    // append g element for circles and timeline axis (chart)\n    g = svg.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n    DrawCircles()\n\n    // appends nested g for timeline axis\n    chart = g.append('g')\n      .attr('class', 'chart')\n      .attr('clip-path', 'url(#chart-area)')\n    xAxis()\n  };\n\n  // datA: formats timeline date data, parse to start and end dates, find min and max date\n  timeline.datA = function (items) {\n    // grabbing data\n    items = items[0].times\n\n    var today = new Date()\n    var tracks = []\n    // copying data to dictionary\n    data.items = items\n    // forEach: parse String data to dates & clean end dates\n    data.items.forEach(function (item) {\n      item.start = d3.time.format('%Y').parse(item.start)\n      if (item.end == '') { // if has no end time\n        item.end = new Date(item.start.getTime() + instantOffset)\n        item.instant = true\n      } else {\n        item.end = d3.time.format('%Y').parse(item.end)\n        item.instant = false\n      }\n      // prevent timeline from going into the future\n      if (item.end > today) { item.end = today };\n    })\n    // find min and max date\n    data.minDate = d3.min(data.items, function (d) { return d.start })\n    data.maxDate = d3.max(data.items, function (d) { return d.end })\n\n    return timeline\n  }\n\n  var DrawCircles = function () {\n    // used for positioning\n    var scaleFactor = (1 / (data.maxDate - data.minDate)) * (Width - margin.left - margin.right)\n    var itemHeight = 20; var itemMargin = 5\n    var Circledata = data.items\n\n    // issue warning about using id per data set. Ids should be individual to data elements\n    if (typeof (data.id) !== 'undefined') {\n      console.warn(\"d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element.\")\n    }\n\n    // circles\n    g.selectAll('svg').data(Circledata).enter()\n      .append('circle')\n      .attr('class', 'circle')\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n    // for each stacked rect (contains track of circles)\n      .attr('x', getXPos)\n      .attr('y', getYPos)\n      .attr('width', function (d, i) { return (d.end - d.start) * 0.5 })\n    // circles\n      .attr('cy', getYPos)\n      .attr('cx', getXPos)\n      .attr('r', itemHeight / 1.8)\n      .attr('height', itemHeight)\n      .attr('fill', function (d, i) { return d.color })\n    // circle text\n    g.selectAll('svg').data(Circledata).enter()\n      .append('text')\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .attr('x', function (d, i) { return getXPos(d, i, true) })\n      .attr('y', function (d, i) { return getYPos(d, i, true) })\n      .text(function (d) { return d.label })\n      .style('fill', 'white')\n\n    // functions called by attributes\n    function getYPos (d, i, text) {\n      var result = margin.top + (itemHeight + itemMargin) * scaleFactor\n      if (text) { result = result + 5 }\n      return result\n    }\n    function getXPos (d, i, text) {\n      var result = margin.left + (d.start - data.minDate) * scaleFactor\n      if (text) { result = result - 4.5 }\n      return result\n    }\n\n    return timeline\n  }\n\n  // Create Event Handlers for mouse\n  var mouseover = function (d) {\n    tool.transition()\n      .duration(200)\n      .style('opacity', 0.9)\n      .text(d.name)\n      .style('left', (d3.event.pageX) + 'px')\n      .style('top', (d3.event.pageY - 105) + 'px')\n    hover = true\n\n    timeline.hover(hover)\n  }\n\n  var mouseout = function (d) {\n    tool.transition()\n      .duration(50)\n      .style('opacity', 0)\n  }\n\n  // xAxis: create axis and axis year intervals\n  var xAxis = function () {\n    // create axis intervals\n    var xScale = d3.time.scale()\n      .domain([data.minDate, data.maxDate])\n      .range([0, Width])\n    // add ticks with year format\n    var axis = d3.svg.axis()\n      .scale(xScale)\n      .orient('bottom')\n      .tickSize(6, 0)\n      .tickFormat(function (d) { return d.getUTCFullYear() })\n    // call and dislay axis\n    var xAxis = chart.append('g')\n      .attr('class', 'axis')\n      .call(axis)\n    return timeline\n  }\n\n  // Setting Functions\n  timeline.data = function (p) {\n    if (!arguments.length) return data\n    data = p\n    return timeline\n  }\n  timeline.Width = function (p) {\n    if (!arguments.length) return Width\n    Width = p\n    return timeline\n  }\n  timeline.svg = function (p) {\n    if (!arguments.length) return svg\n    svg = p\n    return timeline\n  }\n  timeline.hover = function (p) {\n    // console.log(p)\n    if (p) return true\n    return false\n  }\n  timeline.margin = function (p) {\n    if (!arguments.length) return margin\n    margin = p\n    return timeline\n  }\n\n  return timeline\n}\n"]}]}