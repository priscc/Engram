{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/views/Adding_Content/ModifyingTopic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/views/Adding_Content/ModifyingTopic.vue","mtime":1598848182774},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9wcmlzY2lsbGFfY2FuY2FyL0RvY3VtZW50cy9WdWVQcm9qZWN0cy9hcC1zdHVkeS1iaXQyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGIgfSBmcm9tICdAL21haW4nOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCB2aWRlb1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Db250ZW50X0Zvcm1zL1Jlc291cmNlX0Zvcm1zMi92aWRlb1BhbmVsLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICB2aWRlb1BhbmVsOiB2aWRlb1BhbmVsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdG9waWNEaWFsb2c6IHt9LAogICAgICAvL2NvbnRhaW5zIHt0aXRsZTonJywgdGh1bWJuYWlsOicnLCBzdGFydERhdGU6JycsIGVuZERhdGU6JycsIGNvbnRlbnRNRDonJ30KICAgICAgd2lkdGg6ICc3NTBweCcsCiAgICAgIG5ld1RvcGljOiBmYWxzZSwKICAgICAgYWRkUmVzb3VyY2VzOiBmYWxzZSwKICAgICAgaW1nUnVsZTogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICF2IHx8IHYuc2l6ZSA+IDAgJiYgdi5zaXplIDwgMjAwMDAwMCB8fCAnTW9yZSB0aGFuIDJNQiByZXF1aXJlZCc7CiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvcGljczogZnVuY3Rpb24gdG9waWNzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYWxsVG9waWNzOwogICAgfSwKICAgIHJlbW92ZWRSZXNvdXJjZXM6IGZ1bmN0aW9uIHJlbW92ZWRSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yZW1vdmVkUmVzb3VyY2VzOwogICAgfSwKICAgIG5ld1Jlc291cmNlczogZnVuY3Rpb24gbmV3UmVzb3VyY2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubmV3UmVzb3VyY2VzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbW91bnRUb3BpY3M6IGZ1bmN0aW9uIG1vdW50VG9waWNzKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB0b3BpY3MsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0b3BpY3MgPSBbXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oInRvcGljcyIpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICBkb2MuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHZhciB0ID0gaS5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgdC5pZCA9IGkuaWQ7CiAgICAgICAgICAgICAgICAgICAgdG9waWNzLnB1c2godCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRBbGxUb3BpY3MiLCB0b3BpY3MpOwogICAgICAgICAgICAgICAgcmVzID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJyZXNvdXJjZXMiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgZG9jLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGkuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgIHQuaWQgPSBpLmlkOwogICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHQpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0UmVzb3VyY2VzIiwgcmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMudG9waWNEaWFsb2cudGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRlbGV0ZUltYWdlKF90aGlzLnRvcGljRGlhbG9nKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNhdmVJbWFnZShfdGhpcy50b3BpY0RpYWxvZyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ0b3BpY3MiKS5kb2MoX3RoaXMudG9waWNEaWFsb2cuaWQpLnVwZGF0ZShfdGhpcy50b3BpY0RpYWxvZykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUb3BpY3Mgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhIik7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6IiwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ0aW1lUGVyaW9kcyIpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgZS5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICBkb2MuZGF0YSgpLnRvcGljVGl0bGVzLmZvckVhY2goZnVuY3Rpb24gKGksIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoaS50b3BpY0lEID09IF90aGlzLnRvcGljRGlhbG9nLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1iVVJMOiBfdGhpcy50b3BpY0RpYWxvZy50aHVtYlVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMudG9waWNEaWFsb2cudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9waWNJRDogX3RoaXMudG9waWNEaWFsb2cuaWQKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IGRvYy5kYXRhKCkudG9waWNUaXRsZXM7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEsIG5ld0kpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2MucmVmLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9waWNUaXRsZXM6IGFycgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInRpbWVQZXJpb2RzIHN1Y2Nlc3NmdWxseSB1cGRhdGVkISIpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHVwZGF0aW5nIHRpbWVQZXJpb2QgZG9jdW1lbnQ6IiwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUgYXJlIHJlc291cmNlcyB0byByZW1vdmUKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZW1vdmVkUmVzb3VyY2VzLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnJlbW92aW5nUmVzb3VyY2VzKCk7CiAgICAgICAgICAgICAgICB9IC8vaWYgdGhlcmUgYXJlIHJlc291cmNlcyB0byBhZGQKCgogICAgICAgICAgICAgICAgaWYgKF90aGlzLm5ld1Jlc291cmNlcy5sZW5ndGggIT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5hZGRpbmdSZXNvdXJjZXMoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5yZXNldCgpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZpbmdSZXNvdXJjZXM6IGZ1bmN0aW9uIHJlbW92aW5nUmVzb3VyY2VzKCkgewogICAgICB2YXIgYmF0Y2ggPSBkYi5iYXRjaCgpOwogICAgICB0aGlzLnJlbW92ZWRSZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgdmFyIHJlZiA9IGRiLmNvbGxlY3Rpb24oJ3Jlc291cmNlcycpLmRvYyhkb2MuaWQpOwogICAgICAgIGJhdGNoLmRlbGV0ZShyZWYpOwogICAgICB9KTsKICAgICAgYmF0Y2guY29tbWl0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goImNsZWFyX3JlbW92ZWRSZXNvdXJjZXMiKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkaW5nUmVzb3VyY2VzOiBmdW5jdGlvbiBhZGRpbmdSZXNvdXJjZXMoKSB7CiAgICAgIHZhciBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgICAgIHRoaXMubmV3UmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgIHZhciByZWYgPSBkYi5jb2xsZWN0aW9uKCdyZXNvdXJjZXMnKS5kb2MoKTsKICAgICAgICBiYXRjaC5zZXQocmVmLCBkb2MpOwogICAgICB9KTsKICAgICAgYmF0Y2guY29tbWl0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goImNsZWFyX25ld1Jlc291cmNlcyIpOwogICAgICB9KTsKICAgIH0sCiAgICAvL2NsZWFycyBmaXJlYmFzZSBzdG9yYWdlIC0gdGh1bWJGaWxlIC0gdGh1bWJVUkwKICAgIGRlbGV0ZUltYWdlOiBmdW5jdGlvbiBkZWxldGVJbWFnZShmaWxlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkZXNlcnRSZWY7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRlc2VydFJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKS5jaGlsZChmaWxlLnRodW1ibmFpbC5uYW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBkZXNlcnRSZWYuZGVsZXRlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGZpbGUudGh1bWJGaWxlID0gJyc7CiAgICAgICAgICAgICAgICAgIGZpbGUudGh1bWJVUkwgPSAnJzsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciB1cGRhdGluZyBkb2N1bWVudDogIiwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vdXBkYXRlcyBmaXJlYmFzZSBzdG9yZWFnZSAtIHRodW1iRmlsZSAtIHRodW1iVVJMIC0gZGVsZXRlcyB0aHVtYlVSTAogICAgc2F2ZUltYWdlOiBmdW5jdGlvbiBzYXZlSW1hZ2UoZmlsZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgc3RvcmFnZVJlZjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKS5jaGlsZChmaWxlLnRodW1ibmFpbC5uYW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yYWdlUmVmLnB1dChmaWxlLnRodW1ibmFpbCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGZpbGUudGh1bWJGaWxlID0gZmlsZS50aHVtYm5haWwubmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yYWdlUmVmLmdldERvd25sb2FkVVJMKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGZpbGUudGh1bWJVUkwgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWxlLnRodW1ibmFpbDsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnRvcGljRGlhbG9nID0ge307CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubW91bnRUb3BpY3MoKTsKICB9Cn07"},{"version":3,"sources":["ModifyingTopic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA,SAAA,EAAA,QAAA,QAAA;AACA,OAAA,QAAA,MAAA,UAAA;AACA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,UAAA,MAAA,2DAAA;AAGA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA,gBAAA;AAAA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA;AACA,MAAA,KAAA,EAAA,OAJA;AAKA,MAAA,QAAA,EAAA,KALA;AAMA,MAAA,YAAA,EAAA,KANA;AAOA,MAAA,OAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,GAAA,CAAA,IAAA,CAAA,CAAA,IAAA,GAAA,OAAA,IAAA,wBAAA;AAAA,OAAA;AAPA,KAAA;AAQA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AAAA,KADA;AAEA,IAAA,gBAFA,8BAEA;AAAA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,gBAAA;AAAA,KAFA;AAGA,IAAA,YAHA,0BAGA;AAAA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AAAA;AAHA,GAbA;AAkBA,EAAA,OAAA,EAAA;AAEA,IAAA,WAFA,yBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA,EADA;AAAA;AAAA,uBAEA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,wBAAA,CAAA,GAAA,CAAA,CAAA,IAAA,EAAA;AACA,oBAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA;AACA,oBAAA,MAAA,CAAA,IAAA,CAAA,CAAA;AACA,mBAJA;AAKA,iBANA,CAFA;;AAAA;AASA,gBAAA,KAAA,CAAA,QAAA,CAAA,cAAA,EAAA,MAAA;AAEA,gBAAA,GAXA,GAWA,EAXA;AAAA;AAAA,uBAYA,EAAA,CAAA,UAAA,CAAA,WAAA,EAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,wBAAA,CAAA,GAAA,CAAA,CAAA,IAAA,EAAA;AACA,oBAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA;AACA,oBAAA,GAAA,CAAA,IAAA,CAAA,CAAA;AACA,mBAJA;AAKA,iBANA,CAZA;;AAAA;AAmBA,gBAAA,KAAA,CAAA,QAAA,CAAA,cAAA,EAAA,GAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,KAtBA;AAwBA,IAAA,MAxBA,oBAwBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAkBA,KAAA,CAAA,WAAA,CAAA,SAlBA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAmBA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,WAAA,CAnBA;;AAAA;AAAA;AAAA,uBAoBA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,WAAA,CApBA;;AAAA;AAAA;AAAA,uBAuBA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CAAA,KAAA,CAAA,WAAA,CAAA,EAAA,EAAA,MAAA,CAAA,KAAA,CAAA,WAAA,EACA,IADA,CACA,YAAA;AAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,8BAAA;AAAA,iBADA,EAEA,KAFA,CAEA,UAAA,KAAA,EAAA;AAAA,kBAAA,OAAA,CAAA,KAAA,CAAA,0BAAA,EAAA,KAAA;AAAA,iBAFA,CAvBA;;AAAA;AAAA;AAAA,uBA4BA,EAAA,CAAA,UAAA,CAAA,aAAA,EAAA,GAAA,GAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,GAAA,CAAA,IAAA,GAAA,WAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,0BAAA,CAAA,CAAA,OAAA,IAAA,KAAA,CAAA,WAAA,CAAA,EAAA,EAAA;AACA,4BAAA,IAAA,GAAA;AAAA,0BAAA,QAAA,EAAA,KAAA,CAAA,WAAA,CAAA,QAAA;AAAA,0BAAA,KAAA,EAAA,KAAA,CAAA,WAAA,CAAA,KAAA;AAAA,0BAAA,OAAA,EAAA,KAAA,CAAA,WAAA,CAAA;AAAA,yBAAA;AACA,4BAAA,GAAA,GAAA,GAAA,CAAA,IAAA,GAAA,WAAA;AACA,wBAAA,GAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EAAA,IAAA;AAEA,wBAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA,0BAAA,WAAA,EAAA;AADA,yBAAA;AAGA;AACA,qBAVA;AAWA,mBAZA;AAaA,iBAdA,EAeA,IAfA,CAeA,YAAA;AAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,mCAAA;AAAA,iBAfA,EAgBA,KAhBA,CAgBA,UAAA,KAAA,EAAA;AAAA,kBAAA,OAAA,CAAA,KAAA,CAAA,qCAAA,EAAA,KAAA;AAAA,iBAhBA,CA5BA;;AAAA;AA8CA;AAEA;AACA,oBAAA,KAAA,CAAA,gBAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AAAA,kBAAA,KAAA,CAAA,iBAAA;AAAA,iBAjDA,CAmDA;;;AACA,oBAAA,KAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AAAA,kBAAA,KAAA,CAAA,eAAA;AAAA;;AAGA,gBAAA,KAAA,CAAA,KAAA;;AAvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwDA,KAhFA;AAmFA,IAAA,iBAnFA,+BAmFA;AACA,UAAA,KAAA,GAAA,EAAA,CAAA,KAAA,EAAA;AAEA,WAAA,gBAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,EAAA,CAAA,UAAA,CAAA,WAAA,EAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,GAAA;AACA,OAHA;AAKA,MAAA,KAAA,CAAA,MAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AAAA,QAAA,KAAA,CAAA,QAAA,CAAA,wBAAA;AAAA,OADA;AAEA,KA7FA;AA+FA,IAAA,eA/FA,6BA+FA;AACA,UAAA,KAAA,GAAA,EAAA,CAAA,KAAA,EAAA;AAEA,WAAA,YAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,EAAA,CAAA,UAAA,CAAA,WAAA,EAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,GAAA;AACA,OAHA;AAKA,MAAA,KAAA,CAAA,MAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AAAA,QAAA,KAAA,CAAA,QAAA,CAAA,oBAAA;AAAA,OADA;AAEA,KAzGA;AA4GA;AACA,IAAA,WA7GA,uBA6GA,IA7GA,EA6GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,QAAA,CAAA,OAAA,GAAA,GAAA,GAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CADA;AAAA;AAAA,uBAEA,SAAA,CAAA,MAAA,GACA,IADA,CACA,YAAA;AACA,kBAAA,IAAA,CAAA,SAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,iBAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AAAA,kBAAA,OAAA,CAAA,KAAA,CAAA,2BAAA,EAAA,KAAA;AAAA,iBALA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KArHA;AAuHA;AACA,IAAA,SAxHA,qBAwHA,IAxHA,EAwHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,UADA,GACA,QAAA,CAAA,OAAA,GAAA,GAAA,GAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CADA;AAAA;AAAA,uBAEA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAFA;;AAAA;AAGA,gBAAA,IAAA,CAAA,SAAA,GAAA,IAAA,CAAA,SAAA,CAAA,IAAA;AAHA;AAAA,uBAIA,UAAA,CAAA,cAAA,EAJA;;AAAA;AAIA,gBAAA,IAAA,CAAA,QAJA;AAKA,uBAAA,IAAA,CAAA,SAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KA9HA;AAgIA,IAAA,KAhIA,mBAgIA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA;AAnIA,GAlBA;AAuJA,EAAA,OAvJA,qBAuJA;AACA,SAAA,WAAA;AACA;AAzJA,CAAA","sourcesContent":["<template>\n<div id=\"app\">\n\t\n\t<!-- Topic Components -->\n\t<v-container class=\"mt-6 px-12\">\n\t\t<h1 class=\"font-weight-medium text-center pb-10\">Topics</h1>\n\t\t<v-row>\n\t\t\t<!-- adding new event -->\n\t\t\t<!-- <v-col cols=\"4\" class=\"d-flex flex-column align-center justify-center\">\n\t\t\t\t<v-hover v-slot:default=\"{ hover }\">\n\t\t\t\t\t\t<v-btn :elevation=\"hover ? 12 : 2\" color=\"pink\" dark large fab @click=\"[dialog = true, newTopic = true]\">\n\t\t\t\t\t\t\t<v-icon>mdi-plus</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t</v-hover>\n\t\t\t\t<p class=\"caption pt-3 mb-0 font-weight-medium\">Add Topic</p>\n\t\t\t\t<p class=\"caption pt-0\">(add resources after event is created)</p>\n\t\t\t\t<p class=\"caption pt-0\">Reminder: - fill in all inputs for new items, - refresh page before adding resources</p>\n\t\t\t</v-col> -->\n\t\t\t\n\t\t\t<!-- displaying current events -->\n\t\t\t<v-col cols=\"4\" v-for=\"(t, i) in topics\" :key=\"i\">\n\t\t\t\t<v-hover v-slot:default=\"{ hover }\">\n\t\t\t\t\t<v-card :elevation=\"hover ? 12 : 2\" class=\"mx-auto\">\n\t\t\t\t\t\t<v-btn fab small absolute top right @click=\"[dialog = true, topicDialog = t]\">\n\t\t\t\t\t\t\t<v-icon>mdi-lead-pencil</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<v-img height=\"125\" :src=\"t.thumbURL\"></v-img>\n\t\t\t\t\t\t<v-card-text>{{t.title}}</v-card-text>\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-hover>\n\t\t\t</v-col>\n\t\t</v-row>\n\t</v-container>\n\n\n\t<!-- mod events form -->\n\t<v-dialog v-model=\"dialog\" :width=\"width\">\n\t\t<v-card outlined>\n\t\t\t<v-btn color=\"orange lighten-1\" small fab absolute right dark rounded @click=\"[dialog = false, reset()]\"><v-icon dark>mdi-close</v-icon></v-btn>\n\t\t\t<v-form ref=\"form\" class=\"px-8 pt-8\">\n\t\t\t\t<v-row>\n\t\t\t\t\t<!-- mod event content -->\n\t\t\t\t\t<v-col class=\"pb-0\">\n\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t\t<v-text-field dense filled v-model=\"topicDialog.title\" label=\"Title:\" auto-fill=\"off\" clearable></v-text-field>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t<v-col class=\"py-0\">\n\t\t\t\t\t\t\t\t<v-expansion-panels>\n\t\t\t\t\t\t\t\t\t<v-expansion-panel>\n\t\t\t\t\t\t\t\t\t\t<v-expansion-panel-header>Time Period</v-expansion-panel-header>\n\t\t\t\t\t\t\t\t\t\t<v-expansion-panel-content>\n\t\t\t\t\t\t\t\t\t\t\t<v-radio-group v-model=\"topicDialog.timePeriod\" :mandatory=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-radio label=\"Regional Interactions (1200 - 1450)\" value=\"1\"></v-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-radio label=\"First Global Age (1450 - 1750)\" value=\"2\"></v-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-radio label=\"'Revolutions & Industrialization (1750 - 1900)')\" value=\"3\"></v-radio>\n\t\t\t\t\t\t\t\t\t\t\t\t<v-radio label=\"Modern Times (1900 - Present)\" value=\"4\"></v-radio>\n\t\t\t\t\t\t\t\t\t\t\t</v-radio-group>\n\t\t\t\t\t\t\t\t\t\t</v-expansion-panel-content>\n\t\t\t\t\t\t\t\t\t</v-expansion-panel>\n\t\t\t\t\t\t\t\t</v-expansion-panels>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-col class=\"d-flex justify-end align-center flex-row my-0\">\n\t\t\t\t\t\t\t\t<v-switch class=\"mt-0\" v-model=\"topicDialog.disabled\" inset></v-switch>\n\t\t\t\t\t\t\t\t<p>Disable</p>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\n\t\t\t\t\t\t<v-row class=\"pt-5\">\n\t\t\t\t\t\t\t<v-col cols=\"5\">\n\t\t\t\t\t\t\t\t<v-file-input dense v-model=\"topicDialog.thumbnail\" accept=\"image/*\" counter show-size label=\"Thumbnail\" :placeholder=\"topicDialog.thumbFile\" :rules=\"imgRule\" clearable></v-file-input>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t\t<v-text-field dense filled v-model=\"topicDialog.startDate\" label=\"Start Date:\" auto-fill=\"off\" clearable></v-text-field>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t\t<v-text-field dense filled v-model=\"topicDialog.endDate\" label=\"End Date:\" auto-fill=\"off\" clearable></v-text-field>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t\t<v-btn v-if=\"!newTopic\" small rounded class=\"mb-6 purple lighten-1 text-center\" block dark @click=\"[addResources = true, width='100%']\">Add & Edit Resources</v-btn>\n\t\t\t\t\t\t\t\t<v-textarea dense filled v-model=\"topicDialog.contentMD\" label=\"Main event content: *has markdown\" :placeholder=\"topicDialog.contentMD\"></v-textarea>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t</v-col>\n\n\t\t\t\t\t<!-- mod event resources -->\n\t\t\t\t\t<v-col v-if=\"addResources\"cols=\"7\">\n\t\t\t\t\t\t<v-card outlined class=\"py-2 px-4\" style=\"border-color: #AB47BC;\" >\n\t\t\t\t\t\t\t<v-expansion-panels multiple focusable>\n\t\t\t\t\t\t\t\t<v-expansion-panel>\n\t\t\t\t\t\t\t\t\t<v-expansion-panel-header>Videos</v-expansion-panel-header>\n\t\t\t\t\t\t\t\t\t<v-expansion-panel-content>\n\t\t\t\t\t\t\t\t\t\t<video-panel :parentID=\"topicDialog.id\" :parentType=\"'topic'\"></video-panel>\n\t\t\t\t\t\t\t\t\t</v-expansion-panel-content>\n\t\t\t\t\t\t\t\t</v-expansion-panel>\n\t\t\t\t\t\t\t</v-expansion-panels>\n\n\t\t\t\t\t\t\t<v-card-actions class=\"d-flex justify-end\">\n\t\t\t\t\t\t\t\t<v-btn color=\"green\" dark @click=\"[addResources = false, width = '750px']\">Done</v-btn>\n\t\t\t\t\t\t\t</v-card-actions>\n\t\t\t\t\t\t</v-card>\n\t\t\t\t\t</v-col>\n\t\t\t\t</v-row>\n\t\t\t</v-form>\n\t\t\t<v-card-actions class=\"d-flex justify-end\">\n\t\t\t\t<v-btn class=\"white--text\" color=\"green\" @click=\"[dialog = false, submit()]\" > Accept Changes</v-btn>\n\t\t\t</v-card-actions>\n\t\t\t\n\t\t</v-card>\n\t</v-dialog>\n</div>\n</template>\n\n<script>\nimport { db } from '@/main'\nimport firebase from 'firebase'\nimport store from \"@/store\"\nimport videoPanel from '@/components/Content_Forms/Resource_Forms2/videoPanel.vue'\n\n\nexport default {\n\tcomponents:{\n\t\tvideoPanel\n\t},\n\tdata: function () { return {\n\t\tdialog: false,\n\t\ttopicDialog: {}, \n\t\t\t//contains {title:'', thumbnail:'', startDate:'', endDate:'', contentMD:''}\n\t\twidth: '750px',\n\t\tnewTopic: false,\n\t\taddResources: false,\n\t\timgRule: [ v => !v || v.size > 0 && v.size < 2000000 || 'More than 2MB required'],\n\t}},\n\tcomputed: {\n\t\ttopics() { return this.$store.state.allTopics; },\n\t\tremovedResources() { return this.$store.state.removedResources; },\n\t\tnewResources() { return this.$store.state.newResources; },\n\t},\n\tmethods: {\n\n\t\tasync mountTopics(){\n\t\t\tvar topics = []\n\t\t\tawait db.collection(\"topics\").get().then( doc => {\n\t\t\t\tdoc.forEach(function(i) {\n\t\t\t\t\tvar t = i.data()\n\t\t\t\t\tt.id = i.id\n\t\t\t\t\ttopics.push(t)\n\t\t\t\t})\n\t\t\t})\n\t\t\tstore.dispatch(\"setAllTopics\", topics);\n\n\t\t\tvar res = []\n\t\t\tawait db.collection(\"resources\").get().then( doc => {\n\t\t\t\tdoc.forEach(function(i) {\n\t\t\t\t\tvar t = i.data()\n\t\t\t\t\tt.id = i.id\n\t\t\t\t\tres.push(t)\n\t\t\t\t})\n\t\t\t})\n\t\t\tstore.dispatch(\"setResources\", res);\n\t\t},\n\n\t\tasync submit(){\n\n\t\t\t// if new event\n\t\t\t// if(this.newTopic){ //updates db & store.events\n\t\t\t// \tif(this.topicDialog.thumbnail){\n\t\t\t// \t\tawait this.saveImage(this.topicDialog)\n\t\t\t// \t}\n\t\t\t// \tthis.topicDialog.topicID = this.$store.state.topic.id\n\t\t\t// \tconsole.log('topic', this.topicDialog)\n\t\t\t\t\n\t\t\t// \tdb.collection(\"events\").add(this.topicDialog)\n\t\t\t// \t.then(function() { console.log(\"Document successfully updated!\"); })\n\t\t\t// \t.catch(function(error) { console.error(\"Error updating document:\", error); });\n\t\t\t\t\n\t\t\t// \tstore.dispatch(\"addEvent\", this.topicDialog);\n\t\t\t// \tthis.newTopic = false\n\t\t\t// }\n\t\t\t// else{\n\t\t\t\tif(this.topicDialog.thumbnail){\n\t\t\t\t\tawait this.deleteImage(this.topicDialog)\n\t\t\t\t\tawait this.saveImage(this.topicDialog)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait db.collection(\"topics\").doc(this.topicDialog.id).update(this.topicDialog)\n\t\t\t\t.then(function() { console.log(\"Topics successfully updated!\"); })\n\t\t\t\t.catch(function(error) { console.error(\"Error updating document:\", error); });\n\n\n\t\t\t\tawait db.collection(\"timePeriods\").get().then( e => {\n\t\t\t\t\te.forEach( doc =>{\n\t\t\t\t\t\tdoc.data().topicTitles.forEach( (i, index) => {\n\t\t\t\t\t\t\tif (i.topicID == this.topicDialog.id){\n\t\t\t\t\t\t\t\tvar newI = { thumbURL: this.topicDialog.thumbURL, title: this.topicDialog.title, topicID: this.topicDialog.id }\n\t\t\t\t\t\t\t\tvar arr = doc.data().topicTitles\n\t\t\t\t\t\t\t\tarr.splice(index, 1, newI);\n\n\t\t\t\t\t\t\t\tdoc.ref.update({\n\t\t\t\t\t\t\t\t\ttopicTitles: arr\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.then(function() { console.log(\"timePeriods successfully updated!\"); })\n\t\t\t\t.catch(function(error) { console.error(\"Error updating timePeriod document:\", error); });\n\n\t\t\t// }\n\t\t\t\n\t\t\t//if there are resources to remove\n\t\t\tif (this.removedResources.length != 0){ this.removingResources() }\n\n\t\t\t//if there are resources to add\n\t\t\tif (this.newResources.length != 0){ this.addingResources() }\n\n\n\t\t\tthis.reset()\n\t\t},\n\n\n\t\tremovingResources(){\n\t\t\tvar batch = db.batch()\n\t\t\t\n\t\t\tthis.removedResources.forEach(function(doc) {\n\t\t\t\tvar ref = db.collection('resources').doc(doc.id)\n\t\t\t\tbatch.delete(ref);\n\t\t\t});\n\n\t\t\tbatch.commit()\n\t\t\t.then( function (doc) { store.dispatch(\"clear_removedResources\") });\n\t\t},\n\n\t\taddingResources(){\n\t\t\tvar batch = db.batch()\n\n\t\t\tthis.newResources.forEach(function(doc) {\n\t\t\t\tvar ref = db.collection('resources').doc()\n\t\t\t\tbatch.set(ref, doc);\n\t\t\t});\n\t\n\t\t\tbatch.commit()\n\t\t\t.then( function (doc) { store.dispatch(\"clear_newResources\") });\n\t\t},\n\n\n\t\t//clears firebase storage - thumbFile - thumbURL\n\t\tasync deleteImage(file){\n\t\t\tvar desertRef = firebase.storage().ref().child(file.thumbnail.name);\n\t\t\tawait desertRef.delete()\n\t\t\t.then(function() { \n\t\t\t\tfile.thumbFile = ''\n\t\t\t\tfile.thumbURL = ''\n\t\t\t})\n\t\t\t.catch(function(error) { console.error(\"Error updating document: \", error) });\n\t\t},\n\n\t\t//updates firebase storeage - thumbFile - thumbURL - deletes thumbURL\n\t\tasync saveImage(file){\n\t\t\tvar storageRef = firebase.storage().ref().child(file.thumbnail.name)\n\t\t\tawait storageRef.put(file.thumbnail)\n\t\t\tfile.thumbFile = file.thumbnail.name\n\t\t\tfile.thumbURL = await storageRef.getDownloadURL()\n\t\t\tdelete file.thumbnail\n\t\t},\n\n\t\treset () {\n\t\t\tthis.topicDialog = {}\n\t\t\tthis.$refs.form.reset()\n\t\t},\n\t},\n\tmounted(){\n\t\tthis.mountTopics()\n\t}\n}\n</script>\n"],"sourceRoot":"src/views/Adding_Content"}]}