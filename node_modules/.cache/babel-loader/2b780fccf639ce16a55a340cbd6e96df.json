{"remainingRequest":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js!/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline4.js","dependencies":[{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline4.js","mtime":1591732195796},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKLy8gaW5zcGlyZWQgYW5kIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vamlhaHVhbmcvZDMtdGltZWxpbmUKZDMudGltZWxpbmUgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIERJU1BMQVlfVFlQRVMgPSBbImNpcmNsZSIsICJyZWN0Il07CgogIHZhciBtb3VzZW92ZXIgPSBmdW5jdGlvbiBtb3VzZW92ZXIoKSB7fSwKICAgICAgbW91c2VvdXQgPSBmdW5jdGlvbiBtb3VzZW91dCgpIHt9LAogICAgICBvcmllbnQgPSAiYm90dG9tIiwKICAgICAgd2lkdGggPSBudWxsLAogICAgICBoZWlnaHQgPSBudWxsLAogICAgICByb3dTZXBhcmF0b3JzQ29sb3IgPSBudWxsLAogICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBudWxsLAogICAgICBkaXNwbGF5ID0gInJlY3QiLAogICAgICBiZWdpbm5pbmcgPSAwLAogICAgICBsYWJlbE1hcmdpbiA9IDAsCiAgICAgIGVuZGluZyA9IDAsCiAgICAgIG1hcmdpbiA9IHsKICAgIGxlZnQ6IDMwLAogICAgcmlnaHQ6IDMwLAogICAgdG9wOiAzMCwKICAgIGJvdHRvbTogMzAKICB9LAogICAgICBzdGFja2VkID0gZmFsc2UsCiAgICAgIHRpbWVJc1JlbGF0aXZlID0gZmFsc2UsCiAgICAgIGl0ZW1IZWlnaHQgPSAyMCwKICAgICAgaXRlbU1hcmdpbiA9IDUsCiAgICAgIHNob3dUaW1lQXhpcyA9IHRydWUsCiAgICAgIHNob3dBeGlzVG9wID0gZmFsc2UsCiAgICAgIHRpbWVBeGlzVGljayA9IGZhbHNlLAogICAgICBzaG93QXhpc0hlYWRlckJhY2tncm91bmQgPSBmYWxzZSwKICAgICAgc2hvd0F4aXNOYXYgPSBmYWxzZSwKICAgICAgY2hhcnREYXRhID0ge307CgogIHZhciBhcHBlbmRUaW1lQXhpcyA9IGZ1bmN0aW9uIGFwcGVuZFRpbWVBeGlzKGcsIHhBeGlzLCB5UG9zaXRpb24pIHsKICAgIC8vIGlmKHNob3dBeGlzSGVhZGVyQmFja2dyb3VuZCl7IGFwcGVuZEF4aXNIZWFkZXJCYWNrZ3JvdW5kKGcsIDAsIDApOyB9CiAgICAvLyBpZihzaG93QXhpc05hdil7IGFwcGVuZFRpbWVBeGlzTmF2KGcpIH07CiAgICB2YXIgYXhpcyA9IGcuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAiYXhpcyIpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIDAgKyAiLCIgKyB5UG9zaXRpb24gKyAiKSIpLmNhbGwoeEF4aXMpOwogIH07CgogIGZ1bmN0aW9uIHRpbWVsaW5lKGdQYXJlbnQpIHsKICAgIHZhciBnID0gZ1BhcmVudC5hcHBlbmQoImciKTsgLy9jb250YWlucyBzdmcgb2YgdGhlIHRpbWVsaW5lCgogICAgdmFyIGdQYXJlbnRTaXplID0gZ1BhcmVudFswXVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy9yZXR1cm5zIHNpemUgb2YgdGhlIHN2ZyAmIHBvc2l0aW9uCgogICAgdmFyIGdQYXJlbnRJdGVtID0gZDMuc2VsZWN0KGdQYXJlbnRbMF1bMF0pOyAvL2dldHMgYWxsIHRpbWVsaW5lIHN2ZyBkYXRhCgogICAgdmFyIHlBeGlzTWFwcGluZyA9IHt9LAogICAgICAgIG1heFN0YWNrID0gMSwKICAgICAgICBtaW5UaW1lID0gMCwKICAgICAgICBtYXhUaW1lID0gMDsKICAgIHNldFdpZHRoKCk7IC8vc2V0dGluZyB3aWR0aCBvZiB0aW1lbGluZQogICAgLy9jaGVjayAjIG9mIHN0YWNrcyBhbmQgZHJhdyB0aGUgYXhpcyBiZWZvcmUgdGhlIGdyYXBoCgogICAgaWYgKHN0YWNrZWQgfHwgZW5kaW5nID09PSAwIHx8IGJlZ2lubmluZyA9PT0gMCkgewogICAgICBnLmVhY2goZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICBkLmZvckVhY2goZnVuY3Rpb24gKGRhdHVtLCBpbmRleCkgewogICAgICAgICAgLy9kYXR1bSA9IGVhY2ggZGF0YSBlbGVtZW50CiAgICAgICAgICAvL2lmIHN0YWNrZWQgPT0gdHJ1ZSAmJiB5QXhpc01hcHBpbmcgb2JqZWN0IGhhcyBrZXlzLCBleHBhbmQgY3JlYXRlIHkgbWFwcGluZwogICAgICAgICAgaWYgKHN0YWNrZWQgJiYgT2JqZWN0LmtleXMoeUF4aXNNYXBwaW5nKS5pbmRleE9mKGluZGV4KSA9PSAtMSkgewogICAgICAgICAgICB5QXhpc01hcHBpbmdbaW5kZXhdID0gbWF4U3RhY2s7CiAgICAgICAgICAgIG1heFN0YWNrKys7CiAgICAgICAgICB9IC8vZmlndXJlIG91dCBiZWdpbm5pbmcgYW5kIGVuZGluZyB0aW1lcyBpZiB0aGV5IGFyZSB1bnNwZWNpZmllZAoKCiAgICAgICAgICBkYXR1bS50aW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lLCBpKSB7CiAgICAgICAgICAgIGlmIChiZWdpbm5pbmcgPT09IDApIGlmICh0aW1lLnN0YXJ0aW5nX3RpbWUgPCBtaW5UaW1lIHx8IG1pblRpbWUgPT09IDAgJiYgdGltZUlzUmVsYXRpdmUgPT09IGZhbHNlKSBtaW5UaW1lID0gdGltZS5zdGFydGluZ190aW1lOwogICAgICAgICAgICBpZiAoZW5kaW5nID09PSAwKSBpZiAodGltZS5lbmRpbmdfdGltZSA+IG1heFRpbWUpIG1heFRpbWUgPSB0aW1lLmVuZGluZ190aW1lOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgaWYgKGVuZGluZyA9PT0gMCkgewogICAgICAgIGVuZGluZyA9IG1heFRpbWU7CiAgICAgIH0KCiAgICAgIGlmIChiZWdpbm5pbmcgPT09IDApIHsKICAgICAgICBiZWdpbm5pbmcgPSBtaW5UaW1lOwogICAgICB9CiAgICB9CgogICAgdmFyIHNjYWxlRmFjdG9yID0gMSAvIChlbmRpbmcgLSBiZWdpbm5pbmcpICogKHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQpOyAvL3VzZWQgZm9yIHBvc2l0aW9uaW5nCiAgICAvL2RyYXcgdGhlIGF4aXMKCiAgICB2YXIgeFNjYWxlID0gZDMudGltZS5zY2FsZSgpLmRvbWFpbihbYmVnaW5uaW5nLCBlbmRpbmddKS5yYW5nZShbbWFyZ2luLmxlZnQsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0XSk7CiAgICB2YXIgeEF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHhTY2FsZSkub3JpZW50KG9yaWVudCk7IC8vZHJhd2luZyB0aGUgdGltZWxpbmUKCiAgICBnLmVhY2goZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgY2hhcnREYXRhID0gZDsKICAgICAgZC5mb3JFYWNoKGZ1bmN0aW9uIChkYXR1bSwgaW5kZXgpIHsKICAgICAgICAvL2RhdHVtID0gZWFjaCBkYXRhIGVsZW1lbnQKICAgICAgICB2YXIgZGF0YSA9IGRhdHVtLnRpbWVzOyAvL2lzc3VlIHdhcm5pbmcgYWJvdXQgdXNpbmcgaWQgcGVyIGRhdGEgc2V0LiBJZHMgc2hvdWxkIGJlIGluZGl2aWR1YWwgdG8gZGF0YSBlbGVtZW50cwoKICAgICAgICBpZiAodHlwZW9mIGRhdHVtLmlkICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oImQzVGltZWxpbmUgV2FybmluZzogSWRzIHBlciBkYXRhc2V0IGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYSAnY2xhc3MnIGtleS4gSWRzIGFyZSBub3cgcGVyIGRhdGEgZWxlbWVudC4iKTsKICAgICAgICB9IC8vY2lyY2xlcwoKCiAgICAgICAgZy5zZWxlY3RBbGwoInN2ZyIpLmRhdGEoZGF0YSkuZW50ZXIoKS5hcHBlbmQoZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZDMubnMucHJlZml4LnN2ZywgImRpc3BsYXkiIGluIGQgPyBkLmRpc3BsYXkgOiBkaXNwbGF5KTsKICAgICAgICB9KSAvL2ZvciBlYWNoIHN0YWNrZWQgcmVjdAogICAgICAgIC5hdHRyKCJ4IiwgZ2V0WFBvcykuYXR0cigieSIsIGdldFN0YWNrUG9zaXRpb24pLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIHJldHVybiAoZC5lbmRpbmdfdGltZSAtIGQuc3RhcnRpbmdfdGltZSkgKiBzY2FsZUZhY3RvcjsKICAgICAgICB9KSAvL2NpcmNsZXMKICAgICAgICAuYXR0cigiY3kiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgcmV0dXJuIGdldFN0YWNrUG9zaXRpb24oZCwgaSkgKyBpdGVtSGVpZ2h0IC8gMjsKICAgICAgICB9KS5hdHRyKCJjeCIsIGdldFhQb3MpLmF0dHIoInIiLCBpdGVtSGVpZ2h0IC8gMS44KS5hdHRyKCJoZWlnaHQiLCBpdGVtSGVpZ2h0KS5hdHRyKCJmaWxsIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIC8vKioqIGNpcmNsZSBDT0xPUgogICAgICAgICAgcmV0dXJuIGQuY29sb3I7CiAgICAgICAgfSkub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkKTsKICAgICAgICAgIG1vdXNlb3ZlcihkLCBpLCBkYXR1bSk7CiAgICAgICAgfSkub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgIG1vdXNlb3V0KGQsIGksIGRhdHVtKTsKICAgICAgICB9KS5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICByZXR1cm4gZGF0dW0uY2xhc3MgPyAidGltZWxpbmVTZXJpZXNfIiArIGRhdHVtLmNsYXNzIDogInRpbWVsaW5lU2VyaWVzXyIgKyBpbmRleDsKICAgICAgICB9KS5hdHRyKCJpZCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICBpZiAoZGF0dW0uaWQgJiYgIWQuaWQpIHsKICAgICAgICAgICAgcmV0dXJuICd0aW1lbGluZUl0ZW1fJyArIGRhdHVtLmlkOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBkLmlkID8gZC5pZCA6ICJ0aW1lbGluZUl0ZW1fIiArIGluZGV4ICsgIl8iICsgaTsKICAgICAgICB9KTsgLy8gY2lyY2xlIHRleHQKCiAgICAgICAgZy5zZWxlY3RBbGwoInN2ZyIpLmRhdGEoZGF0YSkuZW50ZXIoKS5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgZ2V0WFRleHRQb3MpLmF0dHIoInkiLCBnZXRTdGFja1RleHRQb3NpdGlvbikudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQubGFiZWw7CiAgICAgICAgfSkuc3R5bGUoImZpbGwiLCAid2hpdGUiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2V0U3RhY2tQb3NpdGlvbihkLCBpKSB7CiAgICAgICAgICBpZiAoc3RhY2tlZCkgewogICAgICAgICAgICByZXR1cm4gbWFyZ2luLnRvcCArIChpdGVtSGVpZ2h0ICsgaXRlbU1hcmdpbikgKiB5QXhpc01hcHBpbmdbaW5kZXhdOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBtYXJnaW4udG9wOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0U3RhY2tUZXh0UG9zaXRpb24oZCwgaSkgewogICAgICAgICAgaWYgKHN0YWNrZWQpIHsKICAgICAgICAgICAgcmV0dXJuIG1hcmdpbi50b3AgKyAoaXRlbUhlaWdodCArIGl0ZW1NYXJnaW4pICogeUF4aXNNYXBwaW5nW2luZGV4XSArIGl0ZW1IZWlnaHQgKiAwLjc1OwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBtYXJnaW4udG9wICsgaXRlbUhlaWdodCAqIDAuNzU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgdmFyIGJlbG93TGFzdEl0ZW0gPSBtYXJnaW4udG9wICsgKGl0ZW1IZWlnaHQgKyBpdGVtTWFyZ2luKSAqIG1heFN0YWNrOwogICAgdmFyIGFib3ZlRmlyc3RJdGVtID0gbWFyZ2luLnRvcDsKICAgIHZhciB0aW1lQXhpc1lQb3NpdGlvbiA9IHNob3dBeGlzVG9wID8gYWJvdmVGaXJzdEl0ZW0gOiBiZWxvd0xhc3RJdGVtOwogICAgdGltZWxpbmUueEF4aXMoZyk7CgogICAgZnVuY3Rpb24gZ2V0WFBvcyhkLCBpKSB7CiAgICAgIHJldHVybiBtYXJnaW4ubGVmdCArIChkLnN0YXJ0aW5nX3RpbWUgLSBiZWdpbm5pbmcpICogc2NhbGVGYWN0b3I7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0WFRleHRQb3MoZCwgaSkgewogICAgICByZXR1cm4gbWFyZ2luLmxlZnQgKyAoZC5zdGFydGluZ190aW1lIC0gYmVnaW5uaW5nKSAqIHNjYWxlRmFjdG9yIC0gNC41OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFdpZHRoKCkgewogICAgICBpZiAoIXdpZHRoICYmICFnUGFyZW50U2l6ZS53aWR0aCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB3aWR0aCA9IGdQYXJlbnRJdGVtLmF0dHIoIndpZHRoIik7CgogICAgICAgICAgaWYgKCF3aWR0aCkgewogICAgICAgICAgICB0aHJvdyAid2lkdGggb2YgdGhlIHRpbWVsaW5lIGlzIG5vdCBzZXQuIEFzIG9mIEZpcmVmb3ggMjcsIHRpbWVsaW5lKCkud2l0aCh4KSBuZWVkcyB0byBiZSBleHBsaWNpdGx5IHNldCBpbiBvcmRlciB0byByZW5kZXIiOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoISh3aWR0aCAmJiBnUGFyZW50U2l6ZS53aWR0aCkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgd2lkdGggPSBnUGFyZW50SXRlbS5hdHRyKCJ3aWR0aCIpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0gLy8gaWYgYm90aCBhcmUgc2V0LCBkbyBub3RoaW5nCgogICAgfQogIH0KCiAgdGltZWxpbmUueEF4aXMgPSBmdW5jdGlvbiAoZykgewogICAgdmFyIGJhbmQgPSBkYXRhLml0ZW1zOyAvL2RyYXcgdGhlIGF4aXMKCiAgICB2YXIgeFNjYWxlID0gZDMudGltZS5zY2FsZSgpLmRvbWFpbihbZGF0YS5taW5EYXRlLCBkYXRhLm1heERhdGVdKS5yYW5nZShbMCwgV2lkdGhdKTsKICAgIHZhciBheGlzID0gZy5heGlzKCkuc2NhbGUoeFNjYWxlKS5vcmllbnQoImJvdHRvbSIpLnRpY2tTaXplKDYsIDApLnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIHRvWWVhcihkKTsKICAgIH0pLmNhbGwoYXhpcyk7IC8vIHhBeGlzLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgIC8vICAgICB4QXhpcy5jYWxsKGF4aXMpOwogICAgLy8gfTsKICAgIC8vIGJhbmQucGFydHMucHVzaCh4QXhpcyk7IC8vIGZvciBicnVzaC5yZWRyYXcKICAgIC8vIGNvbXBvbmVudHMucHVzaCh4QXhpcyk7IC8vIGZvciB0aW1lbGluZS5yZWRyYXcKCiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgZnVuY3Rpb24gdG9ZZWFyKGRhdGUsIGJjU3RyaW5nKSB7CiAgICBjb25zb2xlLmxvZygiZGF0ZSIsIGRhdGUpOyAvLyBiY1N0cmluZyBpcyB0aGUgcHJlZml4IG9yIHBvc3RmaXggZm9yIEJDIGRhdGVzLgogICAgLy8gSWYgYmNTdHJpbmcgc3RhcnRzIHdpdGggJy0nIChtaW51cyksCiAgICAvLyBpZiB3aWxsIGJlIHBsYWNlZCBpbiBmcm9udCBvZiB0aGUgeWVhci4KCiAgICBiY1N0cmluZyA9IGJjU3RyaW5nIHx8ICIgQkMiOyAvLyBXaXRoIGJsYW5rIQoKICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpOwogICAgaWYgKHllYXIgPiAwKSByZXR1cm4geWVhci50b1N0cmluZygpOwogICAgaWYgKGJjU3RyaW5nWzBdID09ICctJykgcmV0dXJuIGJjU3RyaW5nICsgLXllYXI7CiAgICByZXR1cm4gLXllYXIgKyBiY1N0cmluZzsKICB9IC8vIFNFVFRJTkdTLCB3aGVuIGNhbGxlZCBjaGFuZ2UgdGhlIGZpZWxkIHZhcmlhYmxlcyBhYm92ZQoKCiAgdGltZWxpbmUubWFyZ2luID0gZnVuY3Rpb24gKHApIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1hcmdpbjsKICAgIG1hcmdpbiA9IHA7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUub3JpZW50ID0gZnVuY3Rpb24gKG9yaWVudGF0aW9uKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBvcmllbnQ7CiAgICBvcmllbnQgPSBvcmllbnRhdGlvbjsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5pdGVtSGVpZ2h0ID0gZnVuY3Rpb24gKGgpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGl0ZW1IZWlnaHQ7CiAgICBpdGVtSGVpZ2h0ID0gaDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5pdGVtTWFyZ2luID0gZnVuY3Rpb24gKGgpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGl0ZW1NYXJnaW47CiAgICBpdGVtTWFyZ2luID0gaDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5zaG93VGltZUF4aXNUaWNrID0gZnVuY3Rpb24gKCkgewogICAgdGltZUF4aXNUaWNrID0gIXRpbWVBeGlzVGljazsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5oZWlnaHQgPSBmdW5jdGlvbiAoaCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gaGVpZ2h0OwogICAgaGVpZ2h0ID0gaDsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS53aWR0aCA9IGZ1bmN0aW9uICh3KSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB3aWR0aDsKICAgIHdpZHRoID0gdzsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5kaXNwbGF5ID0gZnVuY3Rpb24gKGRpc3BsYXlUeXBlKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGggfHwgRElTUExBWV9UWVBFUy5pbmRleE9mKGRpc3BsYXlUeXBlKSA9PSAtMSkgcmV0dXJuIGRpc3BsYXk7CiAgICBkaXNwbGF5ID0gZGlzcGxheVR5cGU7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUubW91c2VvdmVyID0gZnVuY3Rpb24gKG1vdXNlb3ZlckZ1bmMpIHsKICAgIGNvbnNvbGUubG9nKG1vdXNlb3ZlckZ1bmMpOwogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gbW91c2VvdmVyOwogICAgbW91c2VvdmVyID0gbW91c2VvdmVyRnVuYzsKICAgIHJldHVybiB0aW1lbGluZTsKICB9OwoKICB0aW1lbGluZS5tb3VzZW91dCA9IGZ1bmN0aW9uIChtb3VzZW91dEZ1bmMpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1vdXNlb3V0OwogICAgbW91c2VvdXQgPSBtb3VzZW91dEZ1bmM7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgdGltZWxpbmUuc3RhY2sgPSBmdW5jdGlvbiAoKSB7CiAgICBzdGFja2VkID0gIXN0YWNrZWQ7CiAgICByZXR1cm4gdGltZWxpbmU7CiAgfTsKCiAgcmV0dXJuIHRpbWVsaW5lOwp9Ow=="},{"version":3,"sources":["/Users/priscilla_cancar/Documents/VueProjects/ap-study-bit2/src/d3-timeline4.js"],"names":["d3","timeline","DISPLAY_TYPES","mouseover","mouseout","orient","width","height","rowSeparatorsColor","backgroundColor","display","beginning","labelMargin","ending","margin","left","right","top","bottom","stacked","timeIsRelative","itemHeight","itemMargin","showTimeAxis","showAxisTop","timeAxisTick","showAxisHeaderBackground","showAxisNav","chartData","appendTimeAxis","g","xAxis","yPosition","axis","append","attr","call","gParent","gParentSize","getBoundingClientRect","gParentItem","select","yAxisMapping","maxStack","minTime","maxTime","setWidth","each","d","i","forEach","datum","index","Object","keys","indexOf","times","time","starting_time","ending_time","scaleFactor","xScale","scale","domain","range","svg","data","id","console","warn","selectAll","enter","document","createElementNS","ns","prefix","getXPos","getStackPosition","color","on","log","class","getXTextPos","getStackTextPosition","text","label","style","belowLastItem","aboveFirstItem","timeAxisYPosition","err","band","items","minDate","maxDate","Width","tickSize","tickFormat","toYear","date","bcString","year","getUTCFullYear","toString","p","arguments","length","orientation","h","showTimeAxisTick","w","displayType","mouseoverFunc","mouseoutFunc","stack"],"mappings":"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","sourcesContent":["// inspired and adapted from https://github.com/jiahuang/d3-timeline\n\nd3.timeline = function() {\n\tvar DISPLAY_TYPES = [\"circle\", \"rect\"];\n\n\tvar mouseover = function () {},\n        mouseout = function () {},\n\t\torient = \"bottom\",\n\t\twidth = null,\n\t\theight = null,\n\t\trowSeparatorsColor = null,\n\t\tbackgroundColor = null,\n\t\tdisplay = \"rect\",\n\t\tbeginning = 0,\n\t\tlabelMargin = 0,\n\t\tending = 0,\n\t\tmargin = {left: 30, right:30, top: 30, bottom:30},\n\t\tstacked = false,\n\t\ttimeIsRelative = false,\n\t\titemHeight = 20,\n\t\titemMargin = 5,\n\t\tshowTimeAxis = true,\n\t\tshowAxisTop = false,\n\t\ttimeAxisTick = false,\n\t\tshowAxisHeaderBackground = false,\n\t\tshowAxisNav = false,\n\t\tchartData = {};\n\n\n\tvar appendTimeAxis = function(g, xAxis, yPosition) {\n\t\t// if(showAxisHeaderBackground){ appendAxisHeaderBackground(g, 0, 0); }\n\t\t// if(showAxisNav){ appendTimeAxisNav(g) };\n\t\tvar axis = g.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + 0 + \",\" + yPosition + \")\")\n\t\t\t.call(xAxis);\n\t};\n\n\n\n\tfunction timeline (gParent) {\n\n\t\tvar g = gParent.append(\"g\"); //contains svg of the timeline\n\t\tvar gParentSize = gParent[0][0].getBoundingClientRect(); //returns size of the svg & position\n\t\tvar gParentItem = d3.select(gParent[0][0]); //gets all timeline svg data\n\t\tvar yAxisMapping = {},\n\t\t\t\tmaxStack = 1,\n\t\t\t\tminTime = 0,\n\t\t\t\tmaxTime = 0;\n\n\t\tsetWidth(); //setting width of timeline\n\n\t\t//check # of stacks and draw the axis before the graph\n\t\tif (stacked || ending === 0 || beginning === 0) {\n\t\t\tg.each(function (d, i) {\n\t\t\t\td.forEach(function (datum, index) { //datum = each data element\n\t\t\t\t\t//if stacked == true && yAxisMapping object has keys, expand create y mapping\n\t\t\t\t\tif (stacked && Object.keys(yAxisMapping).indexOf(index) == -1) {\n\t\t\t\t\t\tyAxisMapping[index] = maxStack;\n\t\t\t\t\t\tmaxStack++;\n\t\t\t\t\t}\n\t\t\t\t\t//figure out beginning and ending times if they are unspecified\n\t\t\t\t\tdatum.times.forEach(function (time, i) {\n\t\t\t\t\t\tif(beginning === 0)\n\t\t\t\t\t\t\tif (time.starting_time < minTime || (minTime === 0 && timeIsRelative === false))\n\t\t\t\t\t\t\t\tminTime = time.starting_time;\n\t\t\t\t\t\tif(ending === 0)\n\t\t\t\t\t\t\tif (time.ending_time > maxTime)\n\t\t\t\t\t\t\t\tmaxTime = time.ending_time;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (ending === 0) {\n\t\t\t\tending = maxTime;\n\t\t\t}\n\t\t\tif (beginning === 0) {\n\t\t\t\tbeginning = minTime;\n\t\t\t}\n\t\t}\n\n\t\tvar scaleFactor = (1/(ending - beginning)) * (width - margin.left - margin.right); //used for positioning\n\n\n\t\t//draw the axis\n\t\tvar xScale = d3.time.scale()\n\t\t\t.domain([beginning, ending])\n\t\t\t.range([margin.left, width - margin.right]);\n\n\t\tvar xAxis = d3.svg.axis()\n\t\t\t.scale(xScale)\n\t\t\t.orient(orient);\n\t\t\t\n\n\n\n\t\t//drawing the timeline\n\t\tg.each(function(d, i) { \n\t\t\tchartData = d;\n\t\t\td.forEach( function(datum, index){ //datum = each data element\n\t\t\t\tvar data = datum.times;\n\t\t\t\t//issue warning about using id per data set. Ids should be individual to data elements\n\t\t\t\tif (typeof(datum.id) != \"undefined\") {\n\t\t\t\t\tconsole.warn(\"d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element.\");\n\t\t\t\t}\n\t\t\t\t//circles\n\t\t\t\tg.selectAll(\"svg\").data(data).enter()\n\t\t\t\t\t.append(function(d, i) {\n\t\t\t\t\t\t\treturn document.createElementNS(d3.ns.prefix.svg, \"display\" in d? d.display:display);\n\t\t\t\t\t})\n\t\t\t\t\t//for each stacked rect\n\t\t\t\t\t.attr(\"x\", getXPos)\n\t\t\t\t\t.attr(\"y\", getStackPosition)\n\t\t\t\t\t.attr(\"width\", function (d, i) {\n\t\t\t\t\t\treturn (d.ending_time - d.starting_time) * scaleFactor;\n\t\t\t\t\t})\n\t\t\t\t\t//circles\n\t\t\t\t\t.attr(\"cy\", function(d, i) {\n\t\t\t\t\t\t\treturn getStackPosition(d, i) + itemHeight/2 ;\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"cx\", getXPos)\n\t\t\t\t\t.attr(\"r\", itemHeight / 1.8)\n\t\t\t\t\t.attr(\"height\", itemHeight)\n\t\t\t\t\t.attr(\"fill\", function(d, i) { //*** circle COLOR\n\t\t\t\t\t\t\treturn d.color ;\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseover\", function (d, i) {\n\t\t\t\t\t\tconsole.log(d)\n\t\t\t\t\t\tmouseover(d, i, datum);\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout\", function (d, i) {\n\t\t\t\t\t\tmouseout(d, i, datum);\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"class\", function (d, i) {\n\t\t\t\t\t\treturn datum.class ? \"timelineSeries_\"+datum.class : \"timelineSeries_\"+index;\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"id\", function(d, i) {\n\t\t\t\t\t\tif (datum.id && !d.id) {\n\t\t\t\t\t\t\treturn 'timelineItem_' + datum.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn d.id ? d.id : \"timelineItem_\"+index+\"_\"+i;\n\t\t\t\t\t})\n\t\t\t\t;\n\n\t\t\t\t// circle text\n\t\t\t\tg.selectAll(\"svg\").data(data).enter()\n\t\t\t\t\t.append(\"text\")\n\t\t\t\t\t.attr(\"x\", getXTextPos)\n\t\t\t\t\t.attr(\"y\", getStackTextPosition)\n\t\t\t\t\t.text(function(d) {\n\t\t\t\t\t\treturn d.label;\n\t\t\t\t\t})\n\t\t\t\t\t.style(\"fill\", \"white\");\n\n\t\t\t\tfunction getStackPosition(d, i) {\n\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\treturn margin.top + (itemHeight + itemMargin) * yAxisMapping[index];\n\t\t\t\t\t}\n\t\t\t\t\treturn margin.top;\n\t\t\t\t}\n\t\t\t\tfunction getStackTextPosition(d, i) {\n\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\treturn margin.top + (itemHeight + itemMargin) * yAxisMapping[index] + itemHeight * 0.75;\n\t\t\t\t\t}\n\t\t\t\t\treturn margin.top + itemHeight * 0.75;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar belowLastItem = (margin.top + (itemHeight + itemMargin) * maxStack);\n\t\tvar aboveFirstItem = margin.top;\n\t\tvar timeAxisYPosition = showAxisTop ? aboveFirstItem : belowLastItem;\n\n\n\t\ttimeline.xAxis(g);\n\n\n\t\tfunction getXPos(d, i) {\n\t\t\treturn margin.left + (d.starting_time - beginning) * scaleFactor;\n\t\t}\n\n\t\tfunction getXTextPos(d, i) {\n\t\t\treturn margin.left + (d.starting_time - beginning) * scaleFactor - 4.5;\n\t\t}\n\n\n\t\tfunction setWidth() {\n\t\t\tif (!width && !gParentSize.width) {\n\t\t\t\ttry {\n\t\t\t\t\twidth = gParentItem.attr(\"width\");\n\t\t\t\t\tif (!width) {\n\t\t\t\t\t\tthrow \"width of the timeline is not set. As of Firefox 27, timeline().with(x) needs to be explicitly set in order to render\";\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log( err );\n\t\t\t\t}\n\t\t\t} else if (!(width && gParentSize.width)) {\n\t\t\t\ttry {\n\t\t\t\t\twidth = gParentItem.attr(\"width\");\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log( err );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// if both are set, do nothing\n\t\t}\n\n\t}\n\ntimeline.xAxis = function (g) {\n\n\n\n        var band = data.items;\n\n\t\t//draw the axis\n\t\tvar xScale = d3.time.scale()\n\t\t\t.domain([data.minDate, data.maxDate])\n            .range([0, Width]);\n\n        var axis = g.axis()\n            .scale(xScale)\n            .orient(\"bottom\")\n            .tickSize(6, 0)\n            .tickFormat(function (d) { return toYear(d); })\n            .call(axis);\n\n        // xAxis.redraw = function () {\n        //     xAxis.call(axis);\n        // };\n\n        // band.parts.push(xAxis); // for brush.redraw\n        // components.push(xAxis); // for timeline.redraw\n\n        return timeline;\n    };\n\n     function toYear(date, bcString) {\n     \tconsole.log(\"date\", date)\n        // bcString is the prefix or postfix for BC dates.\n        // If bcString starts with '-' (minus),\n        // if will be placed in front of the year.\n        bcString = bcString || \" BC\" // With blank!\n        var year = date.getUTCFullYear();\n        if (year > 0) return year.toString();\n        if (bcString[0] == '-') return bcString + (-year);\n        return (-year) + bcString;\n    }\n\n\n\n\t// SETTINGS, when called change the field variables above\n\ttimeline.margin = function (p) {\n\t\tif (!arguments.length) return margin;\n\t\tmargin = p;\n\t\treturn timeline;\n\t};\n\n\ttimeline.orient = function (orientation) {\n\t\tif (!arguments.length) return orient;\n\t\torient = orientation;\n\t\treturn timeline;\n\t};\n\n\ttimeline.itemHeight = function (h) {\n\t\tif (!arguments.length) return itemHeight;\n\t\titemHeight = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.itemMargin = function (h) {\n\t\tif (!arguments.length) return itemMargin;\n\t\titemMargin = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.showTimeAxisTick = function () {\n\t\ttimeAxisTick = !timeAxisTick;\n\t\treturn timeline;\n\t};\n\n\ttimeline.height = function (h) {\n\t\tif (!arguments.length) return height;\n\t\theight = h;\n\t\treturn timeline;\n\t};\n\n\ttimeline.width = function (w) {\n\t\tif (!arguments.length) return width;\n\t\twidth = w;\n\t\treturn timeline;\n\t};\n\n\ttimeline.display = function (displayType) {\n\t\tif (!arguments.length || (DISPLAY_TYPES.indexOf(displayType) == -1)) return display;\n\t\tdisplay = displayType;\n\t\treturn timeline;\n\t};\n\n\n\ttimeline.mouseover = function (mouseoverFunc) {\n\t\tconsole.log(mouseoverFunc)\n\t\tif (!arguments.length) return mouseover;\n\t\tmouseover = mouseoverFunc;\n\t\treturn timeline;\n\t};\n\n\ttimeline.mouseout = function (mouseoutFunc) {\n\t\tif (!arguments.length) return mouseout;\n\t\tmouseout = mouseoutFunc;\n\t\treturn timeline;\n\t};\n\n\ttimeline.stack = function () {\n\t\tstacked = !stacked;\n\t\treturn timeline;\n\t};\n\n\treturn timeline;\n};"]}]}