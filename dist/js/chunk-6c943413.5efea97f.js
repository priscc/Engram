(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c943413"],{"2c64":function(e,t,a){},"3d86":function(e,t,a){},"7c3d":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-container",{staticClass:"mt-6 px-12"},[a("h1",{staticClass:"font-weight-medium text-center pb-10"},[e._v("Topics")]),a("v-row",e._l(e.topics,(function(t,o){return a("v-col",{key:o,attrs:{cols:"4"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(o){var i=o.hover;return[a("v-card",{staticClass:"mx-auto",attrs:{elevation:i?12:2}},[a("v-btn",{attrs:{fab:"",small:"",absolute:"",top:"",right:""},on:{click:function(a){e.dialog=!0,e.topicDialog=t}}},[a("v-icon",[e._v("mdi-lead-pencil")])],1),a("v-img",{attrs:{height:"125",src:t.thumbURL}}),a("v-card-text",[e._v(e._s(t.title))])],1)]}}],null,!0)})],1)})),1)],1),a("v-dialog",{attrs:{width:e.width},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{outlined:""}},[a("v-btn",{attrs:{color:"orange lighten-1",small:"",fab:"",absolute:"",right:"",dark:"",rounded:""},on:{click:function(t){e.dialog=!1,e.reset()}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-close")])],1),a("v-form",{ref:"form",staticClass:"px-8 pt-8"},[a("v-row",[a("v-col",{staticClass:"pb-0"},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",filled:"",label:"Title:","auto-fill":"off",clearable:""},model:{value:e.topicDialog.title,callback:function(t){e.$set(e.topicDialog,"title",t)},expression:"topicDialog.title"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0"},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Time Period")]),a("v-expansion-panel-content",[a("v-radio-group",{attrs:{mandatory:!1},model:{value:e.topicDialog.timePeriod,callback:function(t){e.$set(e.topicDialog,"timePeriod",t)},expression:"topicDialog.timePeriod"}},[a("v-radio",{attrs:{label:"Regional Interactions (1200 - 1450)",value:"1"}}),a("v-radio",{attrs:{label:"First Global Age (1450 - 1750)",value:"2"}}),a("v-radio",{attrs:{label:"'Revolutions & Industrialization (1750 - 1900)')",value:"3"}}),a("v-radio",{attrs:{label:"Modern Times (1900 - Present)",value:"4"}})],1)],1)],1)],1)],1),a("v-col",{staticClass:"d-flex justify-end align-center flex-row my-0"},[a("v-switch",{staticClass:"mt-0",attrs:{inset:""},model:{value:e.topicDialog.disabled,callback:function(t){e.$set(e.topicDialog,"disabled",t)},expression:"topicDialog.disabled"}}),a("p",[e._v("Disable")])],1)],1),a("v-row",{staticClass:"pt-5"},[a("v-col",{attrs:{cols:"5"}},[a("v-file-input",{attrs:{dense:"",accept:"image/*",counter:"","show-size":"",label:"Thumbnail",placeholder:e.topicDialog.thumbFile,rules:e.imgRule,clearable:""},model:{value:e.topicDialog.thumbnail,callback:function(t){e.$set(e.topicDialog,"thumbnail",t)},expression:"topicDialog.thumbnail"}})],1),a("v-col",{attrs:{cols:"5"}},[a("v-file-input",{attrs:{dense:"",accept:"image/*",counter:"","show-size":"",label:"Map Thumbnail",placeholder:e.topicDialog.mapThumbFile,rules:e.imgRule,clearable:""},model:{value:e.topicDialog.mapThumbnail,callback:function(t){e.$set(e.topicDialog,"mapThumbnail",t)},expression:"topicDialog.mapThumbnail"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{dense:"",filled:"",label:"Start Date:","auto-fill":"off",clearable:""},model:{value:e.topicDialog.startDate,callback:function(t){e.$set(e.topicDialog,"startDate",t)},expression:"topicDialog.startDate"}})],1),a("v-col",[a("v-text-field",{attrs:{dense:"",filled:"",label:"End Date:","auto-fill":"off",clearable:""},model:{value:e.topicDialog.endDate,callback:function(t){e.$set(e.topicDialog,"endDate",t)},expression:"topicDialog.endDate"}})],1)],1),a("v-row",[a("v-col",[e.newTopic?e._e():a("v-btn",{staticClass:"mb-6 purple lighten-1 text-center",attrs:{small:"",rounded:"",block:"",dark:""},on:{click:function(t){e.addResources=!0,e.width="100%"}}},[e._v("Add & Edit Resources")]),a("v-textarea",{attrs:{dense:"",filled:"",label:"Main event content: *has markdown",placeholder:e.topicDialog.contentMD},model:{value:e.topicDialog.contentMD,callback:function(t){e.$set(e.topicDialog,"contentMD",t)},expression:"topicDialog.contentMD"}})],1)],1)],1),e.addResources?a("v-col",{attrs:{cols:"7"}},[a("v-card",{staticClass:"py-2 px-4",staticStyle:{"border-color":"#AB47BC"},attrs:{outlined:""}},[a("v-expansion-panels",{attrs:{multiple:"",focusable:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Videos")]),a("v-expansion-panel-content",[a("video-panel",{attrs:{parentID:e.topicDialog.id,parentType:"topic"}})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[e._v("Articles")]),a("v-expansion-panel-content",[a("article-panel",{attrs:{parentID:e.topicDialog.id,parentType:"topic"}})],1)],1)],1),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){e.addResources=!1,e.width="750px"}}},[e._v("Done")])],1)],1)],1):e._e()],1)],1),a("v-card-actions",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:function(t){e.dialog=!1,e.submit()}}},[e._v(" Accept Changes")])],1)],1)],1)],1)},i=[],n=(a("4160"),a("a434"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),r=a("56d7"),s=a("8aa50"),c=a.n(s),l=a("4360"),u=a("8298"),d=a("04ef"),p={components:{videoPanel:u["a"],articlePanel:d["a"]},data:function(){return{dialog:!1,topicDialog:{},width:"750px",newTopic:!1,addResources:!1,imgRule:[function(e){return!e||e.size>0&&e.size<2e6||"More than 2MB required"}]}},computed:{topics:function(){return this.$store.state.allTopics},removedResources:function(){return this.$store.state.removedResources},newResources:function(){return this.$store.state.newResources}},methods:{mountTopics:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,r["db"].collection("topics").get().then((function(e){e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)}))}));case 3:return l["a"].dispatch("setAllTopics",t),a=[],e.next=7,r["db"].collection("resources").get().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)}))}));case 7:l["a"].dispatch("setResources",a);case 8:case"end":return e.stop()}}),e)})))()},submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.topicDialog.thumbnail){t.next=5;break}return t.next=3,e.deleteImage(e.topicDialog);case 3:return t.next=5,e.saveImage(e.topicDialog);case 5:if(!e.topicDialog.mapThumbnail){t.next=10;break}return t.next=8,e.deleteMapImage(e.topicDialog);case 8:return t.next=10,e.saveMapImage(e.topicDialog);case 10:return t.next=12,r["db"].collection("topics").doc(e.topicDialog.id).update(e.topicDialog).then((function(){console.log("Topics successfully updated!")})).catch((function(e){console.error("Error updating document:",e)}));case 12:return t.next=14,r["db"].collection("timePeriods").get().then((function(t){t.forEach((function(t){t.data().topicTitles.forEach((function(a,o){if(a.topicID==e.topicDialog.id){var i={thumbURL:e.topicDialog.thumbURL,title:e.topicDialog.title,topicID:e.topicDialog.id},n=t.data().topicTitles;n.splice(o,1,i),t.ref.update({topicTitles:n})}}))}))})).then((function(){console.log("timePeriods successfully updated!")})).catch((function(e){console.error("Error updating timePeriod document:",e)}));case 14:0!=e.removedResources.length&&e.removingResources(),0!=e.newResources.length&&e.addingResources(),e.reset();case 17:case"end":return t.stop()}}),t)})))()},removingResources:function(){var e=r["db"].batch();this.removedResources.forEach((function(t){var a=r["db"].collection("resources").doc(t.id);e.delete(a)})),e.commit().then((function(e){l["a"].dispatch("clear_removedResources")}))},addingResources:function(){var e=r["db"].batch();this.newResources.forEach((function(t){var a=r["db"].collection("resources").doc();e.set(a,t)})),e.commit().then((function(e){l["a"].dispatch("clear_newResources")}))},deleteImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.a.storage().ref().child(e.thumbnail.name),t.next=3,a.delete().then((function(){e.thumbFile="",e.thumbURL=""})).catch((function(e){console.error("Error updating document: ",e)}));case 3:case"end":return t.stop()}}),t)})))()},saveImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.a.storage().ref().child(e.thumbnail.name),t.next=3,a.put(e.thumbnail);case 3:return e.thumbFile=e.thumbnail.name,t.next=6,a.getDownloadURL();case 6:e.thumbURL=t.sent,delete e.thumbnail;case 8:case"end":return t.stop()}}),t)})))()},deleteMapImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.a.storage().ref().child(e.mapThumbnail.name),t.next=3,a.delete().then((function(){e.mapThumbFile="",e.mapThumbURL=""})).catch((function(e){console.error("Error updating document: ",e)}));case 3:case"end":return t.stop()}}),t)})))()},saveMapImage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.a.storage().ref().child(e.mapThumbnail.name),t.next=3,a.put(e.mapThumbnail);case 3:return e.mapThumbFile=e.mapThumbnail.name,t.next=6,a.getDownloadURL();case 6:e.mapThumbURL=t.sent,delete e.mapThumbnail;case 8:case"end":return t.stop()}}),t)})))()},reset:function(){this.topicDialog={},this.$refs.form.reset()}},mounted:function(){this.mountTopics()}},h=p,m=a("2877"),f=a("6544"),v=a.n(f),g=a("8336"),b=a("b0af"),x=a("99d9"),D=a("62ad"),w=a("a523"),R=a("169a"),k=a("cd55"),T=a("49e2"),C=a("c865"),I=a("0393"),y=a("23a7"),S=a("4bd4"),_=a("ce87"),V=a("132d"),$=a("adda"),E=a("5530"),j=(a("2c64"),a("ba87")),O=a("9d26"),L=a("c37a"),F=a("7e2b"),P=a("a9ad"),G=a("4e82"),M=a("5311"),A=a("7560"),B=a("fe09"),U=a("80d2"),z=a("58df"),N=Object(z["a"])(F["a"],P["a"],M["a"],Object(G["a"])("radioGroup"),A["a"]),H=N.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(E["a"])(Object(E["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return B["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return L["a"].options.computed.computedId.call(this)},hasLabel:L["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!(this.radioGroup||{}).disabled},isReadonly:function(){return this.readonly||!!(this.radioGroup||{}).readonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return B["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return B["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){var e=this;return this.hasLabel?this.$createElement(j["a"],{on:{click:function(t){t.preventDefault(),e.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(U["m"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(O["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(E["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes};return e("div",t,[this.genRadio(),this.genLabel()])}}),J=(a("a9e3"),a("ec29"),a("3d86"),a("604c")),q=a("8547"),K=Object(z["a"])(q["a"],J["a"],L["a"]),Q=K.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(E["a"])(Object(E["a"])({},L["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},L["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=L["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=L["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:J["a"].options.methods.onClick}}),W=a("0fd9"),X=a("b73d"),Y=a("8654"),Z=a("a844"),ee=Object(m["a"])(h,o,i,!1,null,null,null);t["default"]=ee.exports;v()(ee,{VBtn:g["a"],VCard:b["a"],VCardActions:x["a"],VCardText:x["c"],VCol:D["a"],VContainer:w["a"],VDialog:R["a"],VExpansionPanel:k["a"],VExpansionPanelContent:T["a"],VExpansionPanelHeader:C["a"],VExpansionPanels:I["a"],VFileInput:y["a"],VForm:S["a"],VHover:_["a"],VIcon:V["a"],VImg:$["a"],VRadio:H,VRadioGroup:Q,VRow:W["a"],VSwitch:X["a"],VTextField:Y["a"],VTextarea:Z["a"]})}}]);
//# sourceMappingURL=chunk-6c943413.5efea97f.js.map